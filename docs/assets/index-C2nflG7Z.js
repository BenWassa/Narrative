(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))P(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const T of S.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&P(T)}).observe(document,{childList:!0,subtree:!0});function u(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function P(y){if(y.ep)return;y.ep=!0;const S=u(y);fetch(y.href,S)}})();function ff(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var _i={exports:{}},Dl={},Ri={exports:{}},pe={};var ac;function pf(){if(ac)return pe;ac=1;var d=Symbol.for("react.element"),h=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.iterator;function $(g){return g===null||typeof g!="object"?null:(g=O&&g[O]||g["@@iterator"],typeof g=="function"?g:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ne={};function ie(g,_,q){this.props=g,this.context=_,this.refs=ne,this.updater=q||X}ie.prototype.isReactComponent={},ie.prototype.setState=function(g,_){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,_,"setState")},ie.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function je(){}je.prototype=ie.prototype;function Me(g,_,q){this.props=g,this.context=_,this.refs=ne,this.updater=q||X}var De=Me.prototype=new je;De.constructor=Me,oe(De,ie.prototype),De.isPureReactComponent=!0;var re=Array.isArray,Ee=Object.prototype.hasOwnProperty,Le={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function J(g,_,q){var ae,me={},ce=null,ve=null;if(_!=null)for(ae in _.ref!==void 0&&(ve=_.ref),_.key!==void 0&&(ce=""+_.key),_)Ee.call(_,ae)&&!b.hasOwnProperty(ae)&&(me[ae]=_[ae]);var he=arguments.length-2;if(he===1)me.children=q;else if(1<he){for(var xe=Array(he),dt=0;dt<he;dt++)xe[dt]=arguments[dt+2];me.children=xe}if(g&&g.defaultProps)for(ae in he=g.defaultProps,he)me[ae]===void 0&&(me[ae]=he[ae]);return{$$typeof:d,type:g,key:ce,ref:ve,props:me,_owner:Le.current}}function fe(g,_){return{$$typeof:d,type:g.type,key:_,ref:g.ref,props:g.props,_owner:g._owner}}function nt(g){return typeof g=="object"&&g!==null&&g.$$typeof===d}function Pe(g){var _={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(q){return _[q]})}var rt=/\/+/g;function Ke(g,_){return typeof g=="object"&&g!==null&&g.key!=null?Pe(""+g.key):_.toString(36)}function $e(g,_,q,ae,me){var ce=typeof g;(ce==="undefined"||ce==="boolean")&&(g=null);var ve=!1;if(g===null)ve=!0;else switch(ce){case"string":case"number":ve=!0;break;case"object":switch(g.$$typeof){case d:case h:ve=!0}}if(ve)return ve=g,me=me(ve),g=ae===""?"."+Ke(ve,0):ae,re(me)?(q="",g!=null&&(q=g.replace(rt,"$&/")+"/"),$e(me,_,q,"",function(dt){return dt})):me!=null&&(nt(me)&&(me=fe(me,q+(!me.key||ve&&ve.key===me.key?"":(""+me.key).replace(rt,"$&/")+"/")+g)),_.push(me)),1;if(ve=0,ae=ae===""?".":ae+":",re(g))for(var he=0;he<g.length;he++){ce=g[he];var xe=ae+Ke(ce,he);ve+=$e(ce,_,q,xe,me)}else if(xe=$(g),typeof xe=="function")for(g=xe.call(g),he=0;!(ce=g.next()).done;)ce=ce.value,xe=ae+Ke(ce,he++),ve+=$e(ce,_,q,xe,me);else if(ce==="object")throw _=String(g),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return ve}function lt(g,_,q){if(g==null)return g;var ae=[],me=0;return $e(g,ae,"","",function(ce){return _.call(q,ce,me++)}),ae}function ue(g){if(g._status===-1){var _=g._result;_=_(),_.then(function(q){(g._status===0||g._status===-1)&&(g._status=1,g._result=q)},function(q){(g._status===0||g._status===-1)&&(g._status=2,g._result=q)}),g._status===-1&&(g._status=0,g._result=_)}if(g._status===1)return g._result.default;throw g._result}var _e={current:null},U={transition:null},Z={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:U,ReactCurrentOwner:Le};function H(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:lt,forEach:function(g,_,q){lt(g,function(){_.apply(this,arguments)},q)},count:function(g){var _=0;return lt(g,function(){_++}),_},toArray:function(g){return lt(g,function(_){return _})||[]},only:function(g){if(!nt(g))throw Error("React.Children.only expected to receive a single React element child.");return g}},pe.Component=ie,pe.Fragment=u,pe.Profiler=y,pe.PureComponent=Me,pe.StrictMode=P,pe.Suspense=A,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,pe.act=H,pe.cloneElement=function(g,_,q){if(g==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+g+".");var ae=oe({},g.props),me=g.key,ce=g.ref,ve=g._owner;if(_!=null){if(_.ref!==void 0&&(ce=_.ref,ve=Le.current),_.key!==void 0&&(me=""+_.key),g.type&&g.type.defaultProps)var he=g.type.defaultProps;for(xe in _)Ee.call(_,xe)&&!b.hasOwnProperty(xe)&&(ae[xe]=_[xe]===void 0&&he!==void 0?he[xe]:_[xe])}var xe=arguments.length-2;if(xe===1)ae.children=q;else if(1<xe){he=Array(xe);for(var dt=0;dt<xe;dt++)he[dt]=arguments[dt+2];ae.children=he}return{$$typeof:d,type:g.type,key:me,ref:ce,props:ae,_owner:ve}},pe.createContext=function(g){return g={$$typeof:T,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},g.Provider={$$typeof:S,_context:g},g.Consumer=g},pe.createElement=J,pe.createFactory=function(g){var _=J.bind(null,g);return _.type=g,_},pe.createRef=function(){return{current:null}},pe.forwardRef=function(g){return{$$typeof:D,render:g}},pe.isValidElement=nt,pe.lazy=function(g){return{$$typeof:M,_payload:{_status:-1,_result:g},_init:ue}},pe.memo=function(g,_){return{$$typeof:V,type:g,compare:_===void 0?null:_}},pe.startTransition=function(g){var _=U.transition;U.transition={};try{g()}finally{U.transition=_}},pe.unstable_act=H,pe.useCallback=function(g,_){return _e.current.useCallback(g,_)},pe.useContext=function(g){return _e.current.useContext(g)},pe.useDebugValue=function(){},pe.useDeferredValue=function(g){return _e.current.useDeferredValue(g)},pe.useEffect=function(g,_){return _e.current.useEffect(g,_)},pe.useId=function(){return _e.current.useId()},pe.useImperativeHandle=function(g,_,q){return _e.current.useImperativeHandle(g,_,q)},pe.useInsertionEffect=function(g,_){return _e.current.useInsertionEffect(g,_)},pe.useLayoutEffect=function(g,_){return _e.current.useLayoutEffect(g,_)},pe.useMemo=function(g,_){return _e.current.useMemo(g,_)},pe.useReducer=function(g,_,q){return _e.current.useReducer(g,_,q)},pe.useRef=function(g){return _e.current.useRef(g)},pe.useState=function(g){return _e.current.useState(g)},pe.useSyncExternalStore=function(g,_,q){return _e.current.useSyncExternalStore(g,_,q)},pe.useTransition=function(){return _e.current.useTransition()},pe.version="18.3.1",pe}var uc;function Oi(){return uc||(uc=1,Ri.exports=pf()),Ri.exports}var cc;function mf(){if(cc)return Dl;cc=1;var d=Oi(),h=Symbol.for("react.element"),u=Symbol.for("react.fragment"),P=Object.prototype.hasOwnProperty,y=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function T(D,A,V){var M,O={},$=null,X=null;V!==void 0&&($=""+V),A.key!==void 0&&($=""+A.key),A.ref!==void 0&&(X=A.ref);for(M in A)P.call(A,M)&&!S.hasOwnProperty(M)&&(O[M]=A[M]);if(D&&D.defaultProps)for(M in A=D.defaultProps,A)O[M]===void 0&&(O[M]=A[M]);return{$$typeof:h,type:D,key:$,ref:X,props:O,_owner:y.current}}return Dl.Fragment=u,Dl.jsx=T,Dl.jsxs=T,Dl}var dc;function hf(){return dc||(dc=1,_i.exports=mf()),_i.exports}var s=hf(),L=Oi();const hn=ff(L);var Mo={},Di={exports:{}},jt={},Li={exports:{}},zi={};var fc;function yf(){return fc||(fc=1,(function(d){function h(U,Z){var H=U.length;U.push(Z);e:for(;0<H;){var g=H-1>>>1,_=U[g];if(0<y(_,Z))U[g]=Z,U[H]=_,H=g;else break e}}function u(U){return U.length===0?null:U[0]}function P(U){if(U.length===0)return null;var Z=U[0],H=U.pop();if(H!==Z){U[0]=H;e:for(var g=0,_=U.length,q=_>>>1;g<q;){var ae=2*(g+1)-1,me=U[ae],ce=ae+1,ve=U[ce];if(0>y(me,H))ce<_&&0>y(ve,me)?(U[g]=ve,U[ce]=H,g=ce):(U[g]=me,U[ae]=H,g=ae);else if(ce<_&&0>y(ve,H))U[g]=ve,U[ce]=H,g=ce;else break e}}return Z}function y(U,Z){var H=U.sortIndex-Z.sortIndex;return H!==0?H:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;d.unstable_now=function(){return S.now()}}else{var T=Date,D=T.now();d.unstable_now=function(){return T.now()-D}}var A=[],V=[],M=1,O=null,$=3,X=!1,oe=!1,ne=!1,ie=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,Me=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function De(U){for(var Z=u(V);Z!==null;){if(Z.callback===null)P(V);else if(Z.startTime<=U)P(V),Z.sortIndex=Z.expirationTime,h(A,Z);else break;Z=u(V)}}function re(U){if(ne=!1,De(U),!oe)if(u(A)!==null)oe=!0,ue(Ee);else{var Z=u(V);Z!==null&&_e(re,Z.startTime-U)}}function Ee(U,Z){oe=!1,ne&&(ne=!1,je(J),J=-1),X=!0;var H=$;try{for(De(Z),O=u(A);O!==null&&(!(O.expirationTime>Z)||U&&!Pe());){var g=O.callback;if(typeof g=="function"){O.callback=null,$=O.priorityLevel;var _=g(O.expirationTime<=Z);Z=d.unstable_now(),typeof _=="function"?O.callback=_:O===u(A)&&P(A),De(Z)}else P(A);O=u(A)}if(O!==null)var q=!0;else{var ae=u(V);ae!==null&&_e(re,ae.startTime-Z),q=!1}return q}finally{O=null,$=H,X=!1}}var Le=!1,b=null,J=-1,fe=5,nt=-1;function Pe(){return!(d.unstable_now()-nt<fe)}function rt(){if(b!==null){var U=d.unstable_now();nt=U;var Z=!0;try{Z=b(!0,U)}finally{Z?Ke():(Le=!1,b=null)}}else Le=!1}var Ke;if(typeof Me=="function")Ke=function(){Me(rt)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,lt=$e.port2;$e.port1.onmessage=rt,Ke=function(){lt.postMessage(null)}}else Ke=function(){ie(rt,0)};function ue(U){b=U,Le||(Le=!0,Ke())}function _e(U,Z){J=ie(function(){U(d.unstable_now())},Z)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(U){U.callback=null},d.unstable_continueExecution=function(){oe||X||(oe=!0,ue(Ee))},d.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<U?Math.floor(1e3/U):5},d.unstable_getCurrentPriorityLevel=function(){return $},d.unstable_getFirstCallbackNode=function(){return u(A)},d.unstable_next=function(U){switch($){case 1:case 2:case 3:var Z=3;break;default:Z=$}var H=$;$=Z;try{return U()}finally{$=H}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=$;$=U;try{return Z()}finally{$=H}},d.unstable_scheduleCallback=function(U,Z,H){var g=d.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?g+H:g):H=g,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=H+_,U={id:M++,callback:Z,priorityLevel:U,startTime:H,expirationTime:_,sortIndex:-1},H>g?(U.sortIndex=H,h(V,U),u(A)===null&&U===u(V)&&(ne?(je(J),J=-1):ne=!0,_e(re,H-g))):(U.sortIndex=_,h(A,U),oe||X||(oe=!0,ue(Ee))),U},d.unstable_shouldYield=Pe,d.unstable_wrapCallback=function(U){var Z=$;return function(){var H=$;$=Z;try{return U.apply(this,arguments)}finally{$=H}}}})(zi)),zi}var pc;function gf(){return pc||(pc=1,Li.exports=yf()),Li.exports}var mc;function vf(){if(mc)return jt;mc=1;var d=Oi(),h=gf();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P=new Set,y={};function S(e,t){T(e,t),T(e+"Capture",t)}function T(e,t){for(y[e]=t,e=0;e<t.length;e++)P.add(t[e])}var D=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M={},O={};function $(e){return A.call(O,e)?!0:A.call(M,e)?!1:V.test(e)?O[e]=!0:(M[e]=!0,!1)}function X(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oe(e,t,n,r){if(t===null||typeof t>"u"||X(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ne(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ie[e]=new ne(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ie[t]=new ne(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ie[e]=new ne(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ie[e]=new ne(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ie[e]=new ne(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ie[e]=new ne(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ie[e]=new ne(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ie[e]=new ne(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ie[e]=new ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var je=/[\-:]([a-z])/g;function Me(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(je,Me);ie[t]=new ne(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(je,Me);ie[t]=new ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(je,Me);ie[t]=new ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ie[e]=new ne(e,1,!1,e.toLowerCase(),null,!1,!1)}),ie.xlinkHref=new ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ie[e]=new ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function De(e,t,n,r){var l=ie.hasOwnProperty(t)?ie[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oe(t,n,l,r)&&(n=null),r||l===null?$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var re=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),Le=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,g;function _(e){if(g===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);g=t&&t[1]||""}return`
`+g+e}var q=!1;function ae(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var r=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){r=k}e.call(t.prototype)}else{try{throw Error()}catch(k){r=k}e()}}catch(k){if(k&&r&&typeof k.stack=="string"){for(var l=k.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,c=o.length-1;1<=i&&0<=c&&l[i]!==o[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==o[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==o[c]){var f=`
`+l[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=c);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function me(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case Le:return"Portal";case fe:return"Profiler";case J:return"StrictMode";case Ke:return"Suspense";case $e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case nt:return(e._context.displayName||"Context")+".Provider";case rt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dt(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qe(e){e._valueTracker||(e._valueTracker=dt(e))}function Dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ct(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dr(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wn(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=he(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ft(e,t){t=t.checked,t!=null&&De(e,"checked",t,!1)}function fr(e,t){ft(e,t);var n=he(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kn(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kn(e,t,n){(t!=="number"||Ct(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ot=Array.isArray;function Lt(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+he(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Zt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(ot(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:he(n)}}function en(e,t){var n=he(t.value),r=he(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?be(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var We,Yn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=We.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qo=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(e){Qo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gn[t]=gn[e]})});function Hr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gn.hasOwnProperty(e)&&gn[e]?(""+t).trim():t+"px"}function pr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Hr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Wr=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(e,t){if(t){if(Wr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function Ut(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vn=null,At=null,Kt=null;function Qr(e){if(e=hl(e)){if(typeof vn!="function")throw Error(u(280));var t=e.stateNode;t&&(t=Gl(t),vn(e.stateNode,e.type,t))}}function Kr(e){At?Kt?Kt.push(e):Kt=[e]:At=e}function Xr(){if(At){var e=At,t=Kt;if(Kt=At=null,Qr(e),t)for(e=0;e<t.length;e++)Qr(t[e])}}function qn(e,t){return e(t)}function Tl(){}var Se=!1;function bl(e,t,n){if(Se)return e(t,n);Se=!0;try{return qn(e,t,n)}finally{Se=!1,(At!==null||Kt!==null)&&(Tl(),Xr())}}function rn(e,t){var n=e.stateNode;if(n===null)return null;var r=Gl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var hr=!1;if(D)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){hr=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{hr=!1}function ln(e,t,n,r,l,o,i,c,f){var k=Array.prototype.slice.call(arguments,3);try{t.apply(n,k)}catch(z){this.onError(z)}}var Jn=!1,ht=null,Gn=!1,yr=null,wn={onError:function(e){Jn=!0,ht=e}};function Ko(e,t,n,r,l,o,i,c,f){Jn=!1,ht=null,ln.apply(wn,arguments)}function zt(e,t,n,r,l,o,i,c,f){if(Ko.apply(this,arguments),Jn){if(Jn){var k=ht;Jn=!1,ht=null}else throw Error(u(198));Gn||(Gn=!0,yr=k)}}function on(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ue(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yt(e){if(on(e)!==e)throw Error(u(188))}function Xt(e){var t=e.alternate;if(!t){if(t=on(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return yt(l),e;if(o===r)return yt(l),t;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,r=o;break}if(c===r){i=!0,r=l,n=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===n){i=!0,n=o,r=l;break}if(c===r){i=!0,r=o,n=l;break}c=c.sibling}if(!i)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function Nn(e){return e=Xt(e),e!==null?Yr(e):null}function Yr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yr(e);if(t!==null)return t;e=e.sibling}return null}var gr=h.unstable_scheduleCallback,vr=h.unstable_cancelCallback,qr=h.unstable_shouldYield,Fl=h.unstable_requestPaint,ke=h.unstable_now,Xo=h.unstable_getCurrentPriorityLevel,a=h.unstable_ImmediatePriority,m=h.unstable_UserBlockingPriority,v=h.unstable_NormalPriority,w=h.unstable_LowPriority,N=h.unstable_IdlePriority,C=null,E=null;function G(e){if(E&&typeof E.onCommitFiberRoot=="function")try{E.onCommitFiberRoot(C,e,void 0,(e.current.flags&128)===128)}catch{}}var le=Math.clz32?Math.clz32:we,de=Math.log,Be=Math.LN2;function we(e){return e>>>=0,e===0?32:31-(de(e)/Be|0)|0}var Ve=64,xr=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?r=Jr(c):(o&=i,o!==0&&(r=Jr(o)))}else i=n&~l,i!==0?r=Jr(i):o!==0&&(r=Jr(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-le(t),l=1<<n,r|=e[n],t&=~l;return r}function Dc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-le(o),c=1<<i,f=l[i];f===-1?((c&n)===0||(c&r)!==0)&&(l[i]=Dc(c,t)):f<=t&&(e.expiredLanes|=c),o&=~c}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ui(){var e=Ve;return Ve<<=1,(Ve&4194240)===0&&(Ve=64),e}function qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-le(t),e[t]=n}function zc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-le(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Jo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-le(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ce=0;function Ai(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $i,Go,Bi,Vi,Hi,Zo=!1,Ol=[],jn=null,Sn=null,kn=null,Zr=new Map,el=new Map,Cn=[],Tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wi(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(t.pointerId)}}function tl(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=hl(t),t!==null&&Go(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bc(e,t,n,r,l){switch(t){case"focusin":return jn=tl(jn,e,t,n,r,l),!0;case"dragenter":return Sn=tl(Sn,e,t,n,r,l),!0;case"mouseover":return kn=tl(kn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Zr.set(o,tl(Zr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,el.set(o,tl(el.get(o)||null,e,t,n,r,l)),!0}return!1}function Qi(e){var t=Zn(e.target);if(t!==null){var n=on(t);if(n!==null){if(t=n.tag,t===13){if(t=Ue(n),t!==null){e.blockedOn=t,Hi(e.priority,function(){Bi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tn=r,n.target.dispatchEvent(r),tn=null}else return t=hl(n),t!==null&&Go(t),e.blockedOn=n,!1;t.shift()}return!0}function Ki(e,t,n){Ml(e)&&n.delete(t)}function Fc(){Zo=!1,jn!==null&&Ml(jn)&&(jn=null),Sn!==null&&Ml(Sn)&&(Sn=null),kn!==null&&Ml(kn)&&(kn=null),Zr.forEach(Ki),el.forEach(Ki)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zo||(Zo=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Fc)))}function rl(e){function t(l){return nl(l,e)}if(0<Ol.length){nl(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&nl(jn,e),Sn!==null&&nl(Sn,e),kn!==null&&nl(kn,e),Zr.forEach(t),el.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Qi(n),n.blockedOn===null&&Cn.shift()}var wr=re.ReactCurrentBatchConfig,Ul=!0;function Ic(e,t,n,r){var l=Ce,o=wr.transition;wr.transition=null;try{Ce=1,es(e,t,n,r)}finally{Ce=l,wr.transition=o}}function Oc(e,t,n,r){var l=Ce,o=wr.transition;wr.transition=null;try{Ce=4,es(e,t,n,r)}finally{Ce=l,wr.transition=o}}function es(e,t,n,r){if(Ul){var l=ts(e,t,n,r);if(l===null)vs(e,t,r,Al,n),Wi(e,r);else if(bc(l,e,t,n,r))r.stopPropagation();else if(Wi(e,r),t&4&&-1<Tc.indexOf(e)){for(;l!==null;){var o=hl(l);if(o!==null&&$i(o),o=ts(e,t,n,r),o===null&&vs(e,t,r,Al,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else vs(e,t,r,null,n)}}var Al=null;function ts(e,t,n,r){if(Al=null,e=nn(r),e=Zn(e),e!==null)if(t=on(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ue(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Al=e,null}function Xi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xo()){case a:return 1;case m:return 4;case v:case w:return 16;case N:return 536870912;default:return 16}default:return 16}}var En=null,ns=null,$l=null;function Yi(){if($l)return $l;var e,t=ns,n=t.length,r,l="value"in En?En.value:En.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return $l=l.slice(e,1<r?1-r:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function qi(){return!1}function Et(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vl:qi,this.isPropagationStopped=qi,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Et(Nr),ll=H({},Nr,{view:0,detail:0}),Mc=Et(ll),ls,os,ol,Hl=H({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(ls=e.screenX-ol.screenX,os=e.screenY-ol.screenY):os=ls=0,ol=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:os}}),Ji=Et(Hl),Uc=H({},Hl,{dataTransfer:0}),Ac=Et(Uc),$c=H({},ll,{relatedTarget:0}),ss=Et($c),Bc=H({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vc=Et(Bc),Hc=H({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wc=Et(Hc),Qc=H({},Nr,{data:0}),Gi=Et(Qc),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yc[e])?!!t[e]:!1}function is(){return qc}var Jc=H({},ll,{key:function(e){if(e.key){var t=Kc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gc=Et(Jc),Zc=H({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Et(Zc),ed=H({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),td=Et(ed),nd=H({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rd=Et(nd),ld=H({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),od=Et(ld),sd=[9,13,27,32],as=D&&"CompositionEvent"in window,sl=null;D&&"documentMode"in document&&(sl=document.documentMode);var id=D&&"TextEvent"in window&&!sl,ea=D&&(!as||sl&&8<sl&&11>=sl),ta=" ",na=!1;function ra(e,t){switch(e){case"keyup":return sd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function ad(e,t){switch(e){case"compositionend":return la(t);case"keypress":return t.which!==32?null:(na=!0,ta);case"textInput":return e=t.data,e===ta&&na?null:e;default:return null}}function ud(e,t){if(jr)return e==="compositionend"||!as&&ra(e,t)?(e=Yi(),$l=ns=En=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ea&&t.locale!=="ko"?null:t.data;default:return null}}var cd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cd[e.type]:t==="textarea"}function sa(e,t,n,r){Kr(r),t=Yl(t,"onChange"),0<t.length&&(n=new rs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var il=null,al=null;function dd(e){ka(e,0)}function Wl(e){var t=Pr(e);if(Dt(t))return e}function fd(e,t){if(e==="change")return t}var ia=!1;if(D){var us;if(D){var cs="oninput"in document;if(!cs){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),cs=typeof aa.oninput=="function"}us=cs}else us=!1;ia=us&&(!document.documentMode||9<document.documentMode)}function ua(){il&&(il.detachEvent("onpropertychange",ca),al=il=null)}function ca(e){if(e.propertyName==="value"&&Wl(al)){var t=[];sa(t,al,e,nn(e)),bl(dd,t)}}function pd(e,t,n){e==="focusin"?(ua(),il=t,al=n,il.attachEvent("onpropertychange",ca)):e==="focusout"&&ua()}function md(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(al)}function hd(e,t){if(e==="click")return Wl(t)}function yd(e,t){if(e==="input"||e==="change")return Wl(t)}function gd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:gd;function ul(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!A.call(t,l)||!$t(e[l],t[l]))return!1}return!0}function da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fa(e,t){var n=da(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=da(n)}}function pa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ma(){for(var e=window,t=Ct();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ct(e.document)}return t}function ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vd(e){var t=ma(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pa(n.ownerDocument.documentElement,n)){if(r!==null&&ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=fa(n,o);var i=fa(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xd=D&&"documentMode"in document&&11>=document.documentMode,Sr=null,fs=null,cl=null,ps=!1;function ha(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||Sr==null||Sr!==Ct(r)||(r=Sr,"selectionStart"in r&&ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&ul(cl,r)||(cl=r,r=Yl(fs,"onSelect"),0<r.length&&(t=new rs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},ms={},ya={};D&&(ya=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Kl(e){if(ms[e])return ms[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ya)return ms[e]=t[n];return e}var ga=Kl("animationend"),va=Kl("animationiteration"),xa=Kl("animationstart"),wa=Kl("transitionend"),Na=new Map,ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Na.set(e,t),S(t,[e])}for(var hs=0;hs<ja.length;hs++){var ys=ja[hs],wd=ys.toLowerCase(),Nd=ys[0].toUpperCase()+ys.slice(1);Pn(wd,"on"+Nd)}Pn(ga,"onAnimationEnd"),Pn(va,"onAnimationIteration"),Pn(xa,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(wa,"onTransitionEnd"),T("onMouseEnter",["mouseout","mouseover"]),T("onMouseLeave",["mouseout","mouseover"]),T("onPointerEnter",["pointerout","pointerover"]),T("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jd=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function Sa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zt(r,t,void 0,e),e.currentTarget=null}function ka(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var c=r[i],f=c.instance,k=c.currentTarget;if(c=c.listener,f!==o&&l.isPropagationStopped())break e;Sa(l,c,k),o=f}else for(i=0;i<r.length;i++){if(c=r[i],f=c.instance,k=c.currentTarget,c=c.listener,f!==o&&l.isPropagationStopped())break e;Sa(l,c,k),o=f}}}if(Gn)throw e=yr,Gn=!1,yr=null,e}function ze(e,t){var n=t[ks];n===void 0&&(n=t[ks]=new Set);var r=e+"__bubble";n.has(r)||(Ca(t,e,2,!1),n.add(r))}function gs(e,t,n){var r=0;t&&(r|=4),Ca(n,e,r,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function fl(e){if(!e[Xl]){e[Xl]=!0,P.forEach(function(n){n!=="selectionchange"&&(jd.has(n)||gs(n,!1,e),gs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,gs("selectionchange",!1,t))}}function Ca(e,t,n,r){switch(Xi(t)){case 1:var l=Ic;break;case 4:l=Oc;break;default:l=es}n=l.bind(null,t,n,e),l=void 0,!hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function vs(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var f=i.tag;if((f===3||f===4)&&(f=i.stateNode.containerInfo,f===l||f.nodeType===8&&f.parentNode===l))return;i=i.return}for(;c!==null;){if(i=Zn(c),i===null)return;if(f=i.tag,f===5||f===6){r=o=i;continue e}c=c.parentNode}}r=r.return}bl(function(){var k=o,z=nn(n),F=[];e:{var R=Na.get(e);if(R!==void 0){var B=rs,Q=e;switch(e){case"keypress":if(Bl(n)===0)break e;case"keydown":case"keyup":B=Gc;break;case"focusin":Q="focus",B=ss;break;case"focusout":Q="blur",B=ss;break;case"beforeblur":case"afterblur":B=ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=td;break;case ga:case va:case xa:B=Vc;break;case wa:B=rd;break;case"scroll":B=Mc;break;case"wheel":B=od;break;case"copy":case"cut":case"paste":B=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Zi}var K=(t&4)!==0,He=!K&&e==="scroll",x=K?R!==null?R+"Capture":null:R;K=[];for(var p=k,j;p!==null;){j=p;var I=j.stateNode;if(j.tag===5&&I!==null&&(j=I,x!==null&&(I=rn(p,x),I!=null&&K.push(pl(p,I,j)))),He)break;p=p.return}0<K.length&&(R=new B(R,Q,null,n,z),F.push({event:R,listeners:K}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",R&&n!==tn&&(Q=n.relatedTarget||n.fromElement)&&(Zn(Q)||Q[sn]))break e;if((B||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,B?(Q=n.relatedTarget||n.toElement,B=k,Q=Q?Zn(Q):null,Q!==null&&(He=on(Q),Q!==He||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(B=null,Q=k),B!==Q)){if(K=Ji,I="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(K=Zi,I="onPointerLeave",x="onPointerEnter",p="pointer"),He=B==null?R:Pr(B),j=Q==null?R:Pr(Q),R=new K(I,p+"leave",B,n,z),R.target=He,R.relatedTarget=j,I=null,Zn(z)===k&&(K=new K(x,p+"enter",Q,n,z),K.target=j,K.relatedTarget=He,I=K),He=I,B&&Q)t:{for(K=B,x=Q,p=0,j=K;j;j=Cr(j))p++;for(j=0,I=x;I;I=Cr(I))j++;for(;0<p-j;)K=Cr(K),p--;for(;0<j-p;)x=Cr(x),j--;for(;p--;){if(K===x||x!==null&&K===x.alternate)break t;K=Cr(K),x=Cr(x)}K=null}else K=null;B!==null&&Ea(F,R,B,K,!1),Q!==null&&He!==null&&Ea(F,He,Q,K,!0)}}e:{if(R=k?Pr(k):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var Y=fd;else if(oa(R))if(ia)Y=yd;else{Y=md;var ee=pd}else(B=R.nodeName)&&B.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(Y=hd);if(Y&&(Y=Y(e,k))){sa(F,Y,n,z);break e}ee&&ee(e,R,k),e==="focusout"&&(ee=R._wrapperState)&&ee.controlled&&R.type==="number"&&Kn(R,"number",R.value)}switch(ee=k?Pr(k):window,e){case"focusin":(oa(ee)||ee.contentEditable==="true")&&(Sr=ee,fs=k,cl=null);break;case"focusout":cl=fs=Sr=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,ha(F,n,z);break;case"selectionchange":if(xd)break;case"keydown":case"keyup":ha(F,n,z)}var te;if(as)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else jr?ra(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(ea&&n.locale!=="ko"&&(jr||se!=="onCompositionStart"?se==="onCompositionEnd"&&jr&&(te=Yi()):(En=z,ns="value"in En?En.value:En.textContent,jr=!0)),ee=Yl(k,se),0<ee.length&&(se=new Gi(se,e,null,n,z),F.push({event:se,listeners:ee}),te?se.data=te:(te=la(n),te!==null&&(se.data=te)))),(te=id?ad(e,n):ud(e,n))&&(k=Yl(k,"onBeforeInput"),0<k.length&&(z=new Gi("onBeforeInput","beforeinput",null,n,z),F.push({event:z,listeners:k}),z.data=te))}ka(F,t)})}function pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=rn(e,n),o!=null&&r.unshift(pl(e,o,l)),o=rn(e,t),o!=null&&r.push(pl(e,o,l))),e=e.return}return r}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ea(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var c=n,f=c.alternate,k=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&k!==null&&(c=k,l?(f=rn(n,o),f!=null&&i.unshift(pl(n,f,c))):l||(f=rn(n,o),f!=null&&i.push(pl(n,f,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Sd=/\r\n?/g,kd=/\u0000|\uFFFD/g;function Pa(e){return(typeof e=="string"?e:""+e).replace(Sd,`
`).replace(kd,"")}function ql(e,t,n){if(t=Pa(t),Pa(e)!==t&&n)throw Error(u(425))}function Jl(){}var xs=null,ws=null;function Ns(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var js=typeof setTimeout=="function"?setTimeout:void 0,Cd=typeof clearTimeout=="function"?clearTimeout:void 0,_a=typeof Promise=="function"?Promise:void 0,Ed=typeof queueMicrotask=="function"?queueMicrotask:typeof _a<"u"?function(e){return _a.resolve(null).then(e).catch(Pd)}:js;function Pd(e){setTimeout(function(){throw e})}function Ss(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),rl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);rl(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ra(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Er,ml="__reactProps$"+Er,sn="__reactContainer$"+Er,ks="__reactEvents$"+Er,_d="__reactListeners$"+Er,Rd="__reactHandles$"+Er;function Zn(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ra(e);e!==null;){if(n=e[Yt])return n;e=Ra(e)}return t}e=n,n=e.parentNode}return null}function hl(e){return e=e[Yt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function Gl(e){return e[ml]||null}var Cs=[],_r=-1;function Rn(e){return{current:e}}function Te(e){0>_r||(e.current=Cs[_r],Cs[_r]=null,_r--)}function Re(e,t){_r++,Cs[_r]=e.current,e.current=t}var Dn={},st=Rn(Dn),gt=Rn(!1),er=Dn;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function vt(e){return e=e.childContextTypes,e!=null}function Zl(){Te(gt),Te(st)}function Da(e,t,n){if(st.current!==Dn)throw Error(u(168));Re(st,t),Re(gt,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(u(108,ve(e)||"Unknown",l));return H({},n,r)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,er=st.current,Re(st,e),Re(gt,gt.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=La(e,t,er),r.__reactInternalMemoizedMergedChildContext=e,Te(gt),Te(st),Re(st,e)):Te(gt),Re(gt,n)}var an=null,to=!1,Es=!1;function Ta(e){an===null?an=[e]:an.push(e)}function Dd(e){to=!0,Ta(e)}function Ln(){if(!Es&&an!==null){Es=!0;var e=0,t=Ce;try{var n=an;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,to=!1}catch(l){throw an!==null&&(an=an.slice(e+1)),gr(a,Ln),l}finally{Ce=t,Es=!1}}return null}var Dr=[],Lr=0,no=null,ro=0,Tt=[],bt=0,tr=null,un=1,cn="";function nr(e,t){Dr[Lr++]=ro,Dr[Lr++]=no,no=e,ro=t}function ba(e,t,n){Tt[bt++]=un,Tt[bt++]=cn,Tt[bt++]=tr,tr=e;var r=un;e=cn;var l=32-le(r)-1;r&=~(1<<l),n+=1;var o=32-le(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,un=1<<32-le(t)+l|n<<l|r,cn=o+e}else un=1<<o|n<<l|r,cn=e}function Ps(e){e.return!==null&&(nr(e,1),ba(e,1,0))}function _s(e){for(;e===no;)no=Dr[--Lr],Dr[Lr]=null,ro=Dr[--Lr],Dr[Lr]=null;for(;e===tr;)tr=Tt[--bt],Tt[bt]=null,cn=Tt[--bt],Tt[bt]=null,un=Tt[--bt],Tt[bt]=null}var Pt=null,_t=null,Fe=!1,Bt=null;function Fa(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,_t=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tr!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,_t=null,!0):!1;default:return!1}}function Rs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ds(e){if(Fe){var t=_t;if(t){var n=t;if(!Ia(e,t)){if(Rs(e))throw Error(u(418));t=_n(n.nextSibling);var r=Pt;t&&Ia(e,t)?Fa(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Pt=e)}}else{if(Rs(e))throw Error(u(418));e.flags=e.flags&-4097|2,Fe=!1,Pt=e}}}function Oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function lo(e){if(e!==Pt)return!1;if(!Fe)return Oa(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ns(e.type,e.memoizedProps)),t&&(t=_t)){if(Rs(e))throw Ma(),Error(u(418));for(;t;)Fa(e,t),t=_n(t.nextSibling)}if(Oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Pt?_n(e.stateNode.nextSibling):null;return!0}function Ma(){for(var e=_t;e;)e=_n(e.nextSibling)}function zr(){_t=Pt=null,Fe=!1}function Ls(e){Bt===null?Bt=[e]:Bt.push(e)}var Ld=re.ReactCurrentBatchConfig;function yl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var c=l.refs;i===null?delete c[o]:c[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function oo(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){var t=e._init;return t(e._payload)}function Aa(e){function t(x,p){if(e){var j=x.deletions;j===null?(x.deletions=[p],x.flags|=16):j.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function r(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function l(x,p){return x=Un(x,p),x.index=0,x.sibling=null,x}function o(x,p,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<p?(x.flags|=2,p):j):(x.flags|=2,p)):(x.flags|=1048576,p)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,p,j,I){return p===null||p.tag!==6?(p=ji(j,x.mode,I),p.return=x,p):(p=l(p,j),p.return=x,p)}function f(x,p,j,I){var Y=j.type;return Y===b?z(x,p,j.props.children,I,j.key):p!==null&&(p.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ue&&Ua(Y)===p.type)?(I=l(p,j.props),I.ref=yl(x,p,j),I.return=x,I):(I=Do(j.type,j.key,j.props,null,x.mode,I),I.ref=yl(x,p,j),I.return=x,I)}function k(x,p,j,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==j.containerInfo||p.stateNode.implementation!==j.implementation?(p=Si(j,x.mode,I),p.return=x,p):(p=l(p,j.children||[]),p.return=x,p)}function z(x,p,j,I,Y){return p===null||p.tag!==7?(p=cr(j,x.mode,I,Y),p.return=x,p):(p=l(p,j),p.return=x,p)}function F(x,p,j){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ji(""+p,x.mode,j),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ee:return j=Do(p.type,p.key,p.props,null,x.mode,j),j.ref=yl(x,null,p),j.return=x,j;case Le:return p=Si(p,x.mode,j),p.return=x,p;case ue:var I=p._init;return F(x,I(p._payload),j)}if(ot(p)||Z(p))return p=cr(p,x.mode,j,null),p.return=x,p;oo(x,p)}return null}function R(x,p,j,I){var Y=p!==null?p.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Y!==null?null:c(x,p,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ee:return j.key===Y?f(x,p,j,I):null;case Le:return j.key===Y?k(x,p,j,I):null;case ue:return Y=j._init,R(x,p,Y(j._payload),I)}if(ot(j)||Z(j))return Y!==null?null:z(x,p,j,I,null);oo(x,j)}return null}function B(x,p,j,I,Y){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(j)||null,c(p,x,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ee:return x=x.get(I.key===null?j:I.key)||null,f(p,x,I,Y);case Le:return x=x.get(I.key===null?j:I.key)||null,k(p,x,I,Y);case ue:var ee=I._init;return B(x,p,j,ee(I._payload),Y)}if(ot(I)||Z(I))return x=x.get(j)||null,z(p,x,I,Y,null);oo(p,I)}return null}function Q(x,p,j,I){for(var Y=null,ee=null,te=p,se=p=0,Ze=null;te!==null&&se<j.length;se++){te.index>se?(Ze=te,te=null):Ze=te.sibling;var ge=R(x,te,j[se],I);if(ge===null){te===null&&(te=Ze);break}e&&te&&ge.alternate===null&&t(x,te),p=o(ge,p,se),ee===null?Y=ge:ee.sibling=ge,ee=ge,te=Ze}if(se===j.length)return n(x,te),Fe&&nr(x,se),Y;if(te===null){for(;se<j.length;se++)te=F(x,j[se],I),te!==null&&(p=o(te,p,se),ee===null?Y=te:ee.sibling=te,ee=te);return Fe&&nr(x,se),Y}for(te=r(x,te);se<j.length;se++)Ze=B(te,x,se,j[se],I),Ze!==null&&(e&&Ze.alternate!==null&&te.delete(Ze.key===null?se:Ze.key),p=o(Ze,p,se),ee===null?Y=Ze:ee.sibling=Ze,ee=Ze);return e&&te.forEach(function(An){return t(x,An)}),Fe&&nr(x,se),Y}function K(x,p,j,I){var Y=Z(j);if(typeof Y!="function")throw Error(u(150));if(j=Y.call(j),j==null)throw Error(u(151));for(var ee=Y=null,te=p,se=p=0,Ze=null,ge=j.next();te!==null&&!ge.done;se++,ge=j.next()){te.index>se?(Ze=te,te=null):Ze=te.sibling;var An=R(x,te,ge.value,I);if(An===null){te===null&&(te=Ze);break}e&&te&&An.alternate===null&&t(x,te),p=o(An,p,se),ee===null?Y=An:ee.sibling=An,ee=An,te=Ze}if(ge.done)return n(x,te),Fe&&nr(x,se),Y;if(te===null){for(;!ge.done;se++,ge=j.next())ge=F(x,ge.value,I),ge!==null&&(p=o(ge,p,se),ee===null?Y=ge:ee.sibling=ge,ee=ge);return Fe&&nr(x,se),Y}for(te=r(x,te);!ge.done;se++,ge=j.next())ge=B(te,x,se,ge.value,I),ge!==null&&(e&&ge.alternate!==null&&te.delete(ge.key===null?se:ge.key),p=o(ge,p,se),ee===null?Y=ge:ee.sibling=ge,ee=ge);return e&&te.forEach(function(df){return t(x,df)}),Fe&&nr(x,se),Y}function He(x,p,j,I){if(typeof j=="object"&&j!==null&&j.type===b&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ee:e:{for(var Y=j.key,ee=p;ee!==null;){if(ee.key===Y){if(Y=j.type,Y===b){if(ee.tag===7){n(x,ee.sibling),p=l(ee,j.props.children),p.return=x,x=p;break e}}else if(ee.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ue&&Ua(Y)===ee.type){n(x,ee.sibling),p=l(ee,j.props),p.ref=yl(x,ee,j),p.return=x,x=p;break e}n(x,ee);break}else t(x,ee);ee=ee.sibling}j.type===b?(p=cr(j.props.children,x.mode,I,j.key),p.return=x,x=p):(I=Do(j.type,j.key,j.props,null,x.mode,I),I.ref=yl(x,p,j),I.return=x,x=I)}return i(x);case Le:e:{for(ee=j.key;p!==null;){if(p.key===ee)if(p.tag===4&&p.stateNode.containerInfo===j.containerInfo&&p.stateNode.implementation===j.implementation){n(x,p.sibling),p=l(p,j.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=Si(j,x.mode,I),p.return=x,x=p}return i(x);case ue:return ee=j._init,He(x,p,ee(j._payload),I)}if(ot(j))return Q(x,p,j,I);if(Z(j))return K(x,p,j,I);oo(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,p!==null&&p.tag===6?(n(x,p.sibling),p=l(p,j),p.return=x,x=p):(n(x,p),p=ji(j,x.mode,I),p.return=x,x=p),i(x)):n(x,p)}return He}var Tr=Aa(!0),$a=Aa(!1),so=Rn(null),io=null,br=null,zs=null;function Ts(){zs=br=io=null}function bs(e){var t=so.current;Te(so),e._currentValue=t}function Fs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fr(e,t){io=e,zs=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(zs!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(io===null)throw Error(u(308));br=e,io.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var rr=null;function Is(e){rr===null?rr=[e]:rr.push(e)}function Ba(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Is(t)):(n.next=l.next,l.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zn=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,dn(e,n)}return l=r.interleaved,l===null?(t.next=t,Is(r)):(t.next=l.next,l.next=t),r.interleaved=t,dn(e,n)}function ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jo(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var l=e.updateQueue;zn=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var f=c,k=f.next;f.next=null,i===null?o=k:i.next=k,i=f;var z=e.alternate;z!==null&&(z=z.updateQueue,c=z.lastBaseUpdate,c!==i&&(c===null?z.firstBaseUpdate=k:c.next=k,z.lastBaseUpdate=f))}if(o!==null){var F=l.baseState;i=0,z=k=f=null,c=o;do{var R=c.lane,B=c.eventTime;if((r&R)===R){z!==null&&(z=z.next={eventTime:B,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var Q=e,K=c;switch(R=t,B=n,K.tag){case 1:if(Q=K.payload,typeof Q=="function"){F=Q.call(B,F,R);break e}F=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=K.payload,R=typeof Q=="function"?Q.call(B,F,R):Q,R==null)break e;F=H({},F,R);break e;case 2:zn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,R=l.effects,R===null?l.effects=[c]:R.push(c))}else B={eventTime:B,lane:R,tag:c.tag,payload:c.payload,callback:c.callback,next:null},z===null?(k=z=B,f=F):z=z.next=B,i|=R;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;R=c,c=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(!0);if(z===null&&(f=F),l.baseState=f,l.firstBaseUpdate=k,l.lastBaseUpdate=z,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);sr|=i,e.lanes=i,e.memoizedState=F}}function Wa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(u(191,l));l.call(r)}}}var gl={},qt=Rn(gl),vl=Rn(gl),xl=Rn(gl);function lr(e){if(e===gl)throw Error(u(174));return e}function Ms(e,t){switch(Re(xl,t),Re(vl,e),Re(qt,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vr(t,e)}Te(qt),Re(qt,t)}function Ir(){Te(qt),Te(vl),Te(xl)}function Qa(e){lr(xl.current);var t=lr(qt.current),n=Vr(t,e.type);t!==n&&(Re(vl,e),Re(qt,n))}function Us(e){vl.current===e&&(Te(qt),Te(vl))}var Ie=Rn(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var As=[];function $s(){for(var e=0;e<As.length;e++)As[e]._workInProgressVersionPrimary=null;As.length=0}var fo=re.ReactCurrentDispatcher,Bs=re.ReactCurrentBatchConfig,or=0,Oe=null,Xe=null,Je=null,po=!1,wl=!1,Nl=0,zd=0;function it(){throw Error(u(321))}function Vs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Hs(e,t,n,r,l,o){if(or=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?Id:Od,e=n(r,l),wl){o=0;do{if(wl=!1,Nl=0,25<=o)throw Error(u(301));o+=1,Je=Xe=null,t.updateQueue=null,fo.current=Md,e=n(r,l)}while(wl)}if(fo.current=yo,t=Xe!==null&&Xe.next!==null,or=0,Je=Xe=Oe=null,po=!1,t)throw Error(u(300));return e}function Ws(){var e=Nl!==0;return Nl=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Oe.memoizedState=Je=e:Je=Je.next=e,Je}function It(){if(Xe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=Je===null?Oe.memoizedState:Je.next;if(t!==null)Je=t,Xe=e;else{if(e===null)throw Error(u(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Je===null?Oe.memoizedState=Je=e:Je=Je.next=e}return Je}function jl(e,t){return typeof t=="function"?t(e):t}function Qs(e){var t=It(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=Xe,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var c=i=null,f=null,k=o;do{var z=k.lane;if((or&z)===z)f!==null&&(f=f.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),r=k.hasEagerState?k.eagerState:e(r,k.action);else{var F={lane:z,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};f===null?(c=f=F,i=r):f=f.next=F,Oe.lanes|=z,sr|=z}k=k.next}while(k!==null&&k!==o);f===null?i=r:f.next=c,$t(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Oe.lanes|=o,sr|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ks(e){var t=It(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);$t(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ka(){}function Xa(e,t){var n=Oe,r=It(),l=t(),o=!$t(r.memoizedState,l);if(o&&(r.memoizedState=l,xt=!0),r=r.queue,Xs(Ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Sl(9,qa.bind(null,n,r,l,t),void 0,null),Ge===null)throw Error(u(349));(or&30)!==0||Ya(n,t,l)}return l}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qa(e,t,n,r){t.value=n,t.getSnapshot=r,Ga(t)&&Za(e)}function Ja(e,t,n){return n(function(){Ga(t)&&Za(e)})}function Ga(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Za(e){var t=dn(e,1);t!==null&&Qt(t,e,1,-1)}function eu(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=Fd.bind(null,Oe,e),[t.memoizedState,e]}function Sl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tu(){return It().memoizedState}function mo(e,t,n,r){var l=Jt();Oe.flags|=e,l.memoizedState=Sl(1|t,n,void 0,r===void 0?null:r)}function ho(e,t,n,r){var l=It();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var i=Xe.memoizedState;if(o=i.destroy,r!==null&&Vs(r,i.deps)){l.memoizedState=Sl(t,n,o,r);return}}Oe.flags|=e,l.memoizedState=Sl(1|t,n,o,r)}function nu(e,t){return mo(8390656,8,e,t)}function Xs(e,t){return ho(2048,8,e,t)}function ru(e,t){return ho(4,2,e,t)}function lu(e,t){return ho(4,4,e,t)}function ou(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function su(e,t,n){return n=n!=null?n.concat([e]):null,ho(4,4,ou.bind(null,t,e),n)}function Ys(){}function iu(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function au(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uu(e,t,n){return(or&21)===0?(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n):($t(n,t)||(n=Ui(),Oe.lanes|=n,sr|=n,e.baseState=!0),t)}function Td(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Bs.transition;Bs.transition={};try{e(!1),t()}finally{Ce=n,Bs.transition=r}}function cu(){return It().memoizedState}function bd(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},du(e))fu(t,n);else if(n=Ba(e,t,n,r),n!==null){var l=mt();Qt(n,e,r,l),pu(n,t,r)}}function Fd(e,t,n){var r=On(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(du(e))fu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,c=o(i,n);if(l.hasEagerState=!0,l.eagerState=c,$t(c,i)){var f=t.interleaved;f===null?(l.next=l,Is(t)):(l.next=f.next,f.next=l),t.interleaved=l;return}}catch{}n=Ba(e,t,l,r),n!==null&&(l=mt(),Qt(n,e,r,l),pu(n,t,r))}}function du(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function fu(e,t){wl=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jo(e,n)}}var yo={readContext:Ft,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Id={readContext:Ft,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,ou.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bd.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:Ys,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Td.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,l=Jt();if(Fe){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Ge===null)throw Error(u(349));(or&30)!==0||Ya(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,nu(Ja.bind(null,r,o,e),[e]),r.flags|=2048,Sl(9,qa.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Ge.identifierPrefix;if(Fe){var n=cn,r=un;n=(r&~(1<<32-le(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Od={readContext:Ft,useCallback:iu,useContext:Ft,useEffect:Xs,useImperativeHandle:su,useInsertionEffect:ru,useLayoutEffect:lu,useMemo:au,useReducer:Qs,useRef:tu,useState:function(){return Qs(jl)},useDebugValue:Ys,useDeferredValue:function(e){var t=It();return uu(t,Xe.memoizedState,e)},useTransition:function(){var e=Qs(jl)[0],t=It().memoizedState;return[e,t]},useMutableSource:Ka,useSyncExternalStore:Xa,useId:cu,unstable_isNewReconciler:!1},Md={readContext:Ft,useCallback:iu,useContext:Ft,useEffect:Xs,useImperativeHandle:su,useInsertionEffect:ru,useLayoutEffect:lu,useMemo:au,useReducer:Ks,useRef:tu,useState:function(){return Ks(jl)},useDebugValue:Ys,useDeferredValue:function(e){var t=It();return Xe===null?t.memoizedState=e:uu(t,Xe.memoizedState,e)},useTransition:function(){var e=Ks(jl)[0],t=It().memoizedState;return[e,t]},useMutableSource:Ka,useSyncExternalStore:Xa,useId:cu,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:H({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return(e=e._reactInternals)?on(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),l=On(e),o=fn(r,l);o.payload=t,n!=null&&(o.callback=n),t=Tn(e,o,l),t!==null&&(Qt(t,e,l,r),ao(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),l=On(e),o=fn(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Tn(e,o,l),t!==null&&(Qt(t,e,l,r),ao(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=On(e),l=fn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Tn(e,l,r),t!==null&&(Qt(t,e,r,n),ao(t,e,r))}};function mu(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ul(n,r)||!ul(l,o):!0}function hu(e,t,n){var r=!1,l=Dn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ft(o):(l=vt(t)?er:st.current,r=t.contextTypes,o=(r=r!=null)?Rr(e,l):Dn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function yu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Js(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Os(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Ft(o):(o=vt(t)?er:st.current,l.context=Rr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qs(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&go.enqueueReplaceState(l,l.state,null),uo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=me(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ud=typeof WeakMap=="function"?WeakMap:Map;function gu(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ko||(ko=!0,mi=r),Zs(e,t)},n}function vu(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Zs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zs(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function xu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ud;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Zd.bind(null,e,t,n),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Ad=re.ReactCurrentOwner,xt=!1;function pt(e,t,n,r){t.child=e===null?$a(t,null,n,r):Tr(t,e.child,n,r)}function ju(e,t,n,r,l){n=n.render;var o=t.ref;return Fr(t,l),r=Hs(e,t,n,r,o,l),n=Ws(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pn(e,t,l)):(Fe&&n&&Ps(t),t.flags|=1,pt(e,t,r,l),t.child)}function Su(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Ni(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ku(e,t,o,r,l)):(e=Do(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(i,r)&&e.ref===t.ref)return pn(e,t,l)}return t.flags|=1,e=Un(o,r),e.ref=t.ref,e.return=t,t.child=e}function ku(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(ul(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,pn(e,t,l)}return ei(e,t,n,r,l)}function Cu(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ur,Rt),Rt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Ur,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Re(Ur,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Re(Ur,Rt),Rt|=r;return pt(e,t,l,n),t.child}function Eu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ei(e,t,n,r,l){var o=vt(n)?er:st.current;return o=Rr(t,o),Fr(t,l),n=Hs(e,t,n,r,o,l),r=Ws(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pn(e,t,l)):(Fe&&r&&Ps(t),t.flags|=1,pt(e,t,n,l),t.child)}function Pu(e,t,n,r,l){if(vt(n)){var o=!0;eo(t)}else o=!1;if(Fr(t,l),t.stateNode===null)xo(e,t),hu(t,n,r),Js(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var f=i.context,k=n.contextType;typeof k=="object"&&k!==null?k=Ft(k):(k=vt(n)?er:st.current,k=Rr(t,k));var z=n.getDerivedStateFromProps,F=typeof z=="function"||typeof i.getSnapshotBeforeUpdate=="function";F||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||f!==k)&&yu(t,i,r,k),zn=!1;var R=t.memoizedState;i.state=R,uo(t,r,i,l),f=t.memoizedState,c!==r||R!==f||gt.current||zn?(typeof z=="function"&&(qs(t,n,z,r),f=t.memoizedState),(c=zn||mu(t,n,c,r,R,f,k))?(F||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=k,r=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Va(e,t),c=t.memoizedProps,k=t.type===t.elementType?c:Vt(t.type,c),i.props=k,F=t.pendingProps,R=i.context,f=n.contextType,typeof f=="object"&&f!==null?f=Ft(f):(f=vt(n)?er:st.current,f=Rr(t,f));var B=n.getDerivedStateFromProps;(z=typeof B=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==F||R!==f)&&yu(t,i,r,f),zn=!1,R=t.memoizedState,i.state=R,uo(t,r,i,l);var Q=t.memoizedState;c!==F||R!==Q||gt.current||zn?(typeof B=="function"&&(qs(t,n,B,r),Q=t.memoizedState),(k=zn||mu(t,n,k,r,R,Q,f)||!1)?(z||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,Q,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,Q,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Q),i.props=r,i.state=Q,i.context=f,r=k):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),r=!1)}return ti(e,t,n,r,o,l)}function ti(e,t,n,r,l,o){Eu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&za(t,n,!1),pn(e,t,o);r=t.stateNode,Ad.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Tr(t,e.child,null,o),t.child=Tr(t,null,c,o)):pt(e,t,c,o),t.memoizedState=r.state,l&&za(t,n,!0),t.child}function _u(e){var t=e.stateNode;t.pendingContext?Da(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(e,t.context,!1),Ms(e,t.containerInfo)}function Ru(e,t,n,r,l){return zr(),Ls(l),t.flags|=256,pt(e,t,n,r),t.child}var ni={dehydrated:null,treeContext:null,retryLane:0};function ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Du(e,t,n){var r=t.pendingProps,l=Ie.current,o=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Re(Ie,l&1),e===null)return Ds(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Lo(i,r,0,null),e=cr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ri(n),t.memoizedState=ni,e):li(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return $d(e,t,i,r,c,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,c=l.sibling;var f={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Un(l,f),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?o=Un(c,o):(o=cr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?ri(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ni,r}return o=e.child,e=o.sibling,r=Un(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function li(e,t){return t=Lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vo(e,t,n,r){return r!==null&&Ls(r),Tr(t,e.child,null,n),e=li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $d(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Gs(Error(u(422))),vo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Lo({mode:"visible",children:r.children},l,0,null),o=cr(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Tr(t,e.child,null,i),t.child.memoizedState=ri(i),t.memoizedState=ni,o);if((t.mode&1)===0)return vo(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(u(419)),r=Gs(o,r,void 0),vo(e,t,i,r)}if(c=(i&e.childLanes)!==0,xt||c){if(r=Ge,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,dn(e,l),Qt(r,e,l,-1))}return wi(),r=Gs(Error(u(421))),vo(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=ef.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,_t=_n(l.nextSibling),Pt=t,Fe=!0,Bt=null,e!==null&&(Tt[bt++]=un,Tt[bt++]=cn,Tt[bt++]=tr,un=e.id,cn=e.overflow,tr=t),t=li(t,r.children),t.flags|=4096,t)}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fs(e.return,t,n)}function oi(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function zu(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(pt(e,t,r.children,n),r=Ie.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,n,t);else if(e.tag===19)Lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Ie,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&co(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),oi(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&co(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}oi(t,!0,n,null,o);break;case"together":oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bd(e,t,n){switch(t.tag){case 3:_u(t),zr();break;case 5:Qa(t);break;case 1:vt(t.type)&&eo(t);break;case 4:Ms(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Re(so,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ie,Ie.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Du(e,t,n):(Re(Ie,Ie.current&1),e=pn(e,t,n),e!==null?e.sibling:null);Re(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return zu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Re(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return pn(e,t,n)}var Tu,si,bu,Fu;Tu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},si=function(){},bu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,lr(qt.current);var o=null;switch(n){case"input":l=dr(e,l),r=dr(e,r),o=[];break;case"select":l=H({},l,{value:void 0}),r=H({},r,{value:void 0}),o=[];break;case"textarea":l=Zt(e,l),r=Zt(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}mr(n,r);var i;n=null;for(k in l)if(!r.hasOwnProperty(k)&&l.hasOwnProperty(k)&&l[k]!=null)if(k==="style"){var c=l[k];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(y.hasOwnProperty(k)?o||(o=[]):(o=o||[]).push(k,null));for(k in r){var f=r[k];if(c=l?.[k],r.hasOwnProperty(k)&&f!==c&&(f!=null||c!=null))if(k==="style")if(c){for(i in c)!c.hasOwnProperty(i)||f&&f.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in f)f.hasOwnProperty(i)&&c[i]!==f[i]&&(n||(n={}),n[i]=f[i])}else n||(o||(o=[]),o.push(k,n)),n=f;else k==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(o=o||[]).push(k,f)):k==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(k,""+f):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(y.hasOwnProperty(k)?(f!=null&&k==="onScroll"&&ze("scroll",e),o||c===f||(o=[])):(o=o||[]).push(k,f))}n&&(o=o||[]).push("style",n);var k=o;(t.updateQueue=k)&&(t.flags|=4)}},Fu=function(e,t,n,r){n!==r&&(t.flags|=4)};function kl(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vd(e,t,n){var r=t.pendingProps;switch(_s(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return vt(t.type)&&Zl(),at(t),null;case 3:return r=t.stateNode,Ir(),Te(gt),Te(st),$s(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bt!==null&&(gi(Bt),Bt=null))),si(e,t),at(t),null;case 5:Us(t);var l=lr(xl.current);if(n=t.type,e!==null&&t.stateNode!=null)bu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(u(166));return at(t),null}if(e=lr(qt.current),lo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yt]=t,r[ml]=o,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(l=0;l<dl.length;l++)ze(dl[l],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Wn(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":Xn(r,o),ze("invalid",r)}mr(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&ql(r.textContent,c,e),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&ql(r.textContent,c,e),l=["children",""+c]):y.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":qe(r),Qn(r,o,!0);break;case"textarea":qe(r),zl(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=be(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yt]=t,e[ml]=r,Tu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ut(n,r),n){case"dialog":ze("cancel",e),ze("close",e),l=r;break;case"iframe":case"object":case"embed":ze("load",e),l=r;break;case"video":case"audio":for(l=0;l<dl.length;l++)ze(dl[l],e);l=r;break;case"source":ze("error",e),l=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),l=r;break;case"details":ze("toggle",e),l=r;break;case"input":Wn(e,r),l=dr(e,r),ze("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=H({},r,{value:void 0}),ze("invalid",e);break;case"textarea":Xn(e,r),l=Zt(e,r),ze("invalid",e);break;default:l=r}mr(n,l),c=l;for(o in c)if(c.hasOwnProperty(o)){var f=c[o];o==="style"?pr(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Yn(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&yn(e,f):typeof f=="number"&&yn(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(y.hasOwnProperty(o)?f!=null&&o==="onScroll"&&ze("scroll",e):f!=null&&De(e,o,f,i))}switch(n){case"input":qe(e),Qn(e,r,!1);break;case"textarea":qe(e),zl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+he(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Lt(e,!!r.multiple,o,!1):r.defaultValue!=null&&Lt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)Fu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(u(166));if(n=lr(xl.current),lr(qt.current),lo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(o=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:ql(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ql(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return at(t),null;case 13:if(Te(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&_t!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ma(),zr(),t.flags|=98560,o=!1;else if(o=lo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[Yt]=t}else zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),o=!1}else Bt!==null&&(gi(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Ye===0&&(Ye=3):wi())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Ir(),si(e,t),e===null&&fl(t.stateNode.containerInfo),at(t),null;case 10:return bs(t.type._context),at(t),null;case 17:return vt(t.type)&&Zl(),at(t),null;case 19:if(Te(Ie),o=t.memoizedState,o===null)return at(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)kl(o,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=co(e),i!==null){for(t.flags|=128,kl(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&ke()>Ar&&(t.flags|=128,r=!0,kl(o,!1),t.lanes=4194304)}else{if(!r)if(e=co(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Fe)return at(t),null}else 2*ke()-o.renderingStartTime>Ar&&n!==1073741824&&(t.flags|=128,r=!0,kl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ke(),t.sibling=null,n=Ie.current,Re(Ie,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return xi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function Hd(e,t){switch(_s(t),t.tag){case 1:return vt(t.type)&&Zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),Te(gt),Te(st),$s(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Us(t),null;case 13:if(Te(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Ie),null;case 4:return Ir(),null;case 10:return bs(t.type._context),null;case 22:case 23:return xi(),null;case 24:return null;default:return null}}var wo=!1,ut=!1,Wd=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function ii(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Iu=!1;function Qd(e,t){if(xs=Ul,e=ma(),ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,c=-1,f=-1,k=0,z=0,F=e,R=null;t:for(;;){for(var B;F!==n||l!==0&&F.nodeType!==3||(c=i+l),F!==o||r!==0&&F.nodeType!==3||(f=i+r),F.nodeType===3&&(i+=F.nodeValue.length),(B=F.firstChild)!==null;)R=F,F=B;for(;;){if(F===e)break t;if(R===n&&++k===l&&(c=i),R===o&&++z===r&&(f=i),(B=F.nextSibling)!==null)break;F=R,R=F.parentNode}F=B}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(ws={focusedElem:e,selectionRange:n},Ul=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var K=Q.memoizedProps,He=Q.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?K:Vt(t.type,K),He);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(I){Ae(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return Q=Iu,Iu=!1,Q}function Cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ii(t,n,o)}l=l.next}while(l!==r)}}function No(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ai(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function Ou(e){var t=e.alternate;t!==null&&(e.alternate=null,Ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ml],delete t[ks],delete t[_d],delete t[Rd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mu(e){return e.tag===5||e.tag===3||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ui(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(ui(e,t,n),e=e.sibling;e!==null;)ui(e,t,n),e=e.sibling}function ci(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ci(e,t,n),e=e.sibling;e!==null;)ci(e,t,n),e=e.sibling}var et=null,Ht=!1;function bn(e,t,n){for(n=n.child;n!==null;)Au(e,t,n),n=n.sibling}function Au(e,t,n){if(E&&typeof E.onCommitFiberUnmount=="function")try{E.onCommitFiberUnmount(C,n)}catch{}switch(n.tag){case 5:ut||Mr(n,t);case 6:var r=et,l=Ht;et=null,bn(e,t,n),et=r,Ht=l,et!==null&&(Ht?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Ht?(e=et,n=n.stateNode,e.nodeType===8?Ss(e.parentNode,n):e.nodeType===1&&Ss(e,n),rl(e)):Ss(et,n.stateNode));break;case 4:r=et,l=Ht,et=n.stateNode.containerInfo,Ht=!0,bn(e,t,n),et=r,Ht=l;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&((o&2)!==0||(o&4)!==0)&&ii(n,t,i),l=l.next}while(l!==r)}bn(e,t,n);break;case 1:if(!ut&&(Mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ae(n,t,c)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,bn(e,t,n),ut=r):bn(e,t,n);break;default:bn(e,t,n)}}function $u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wd),t.forEach(function(r){var l=tf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:et=c.stateNode,Ht=!1;break e;case 3:et=c.stateNode.containerInfo,Ht=!0;break e;case 4:et=c.stateNode.containerInfo,Ht=!0;break e}c=c.return}if(et===null)throw Error(u(160));Au(o,i,l),et=null,Ht=!1;var f=l.alternate;f!==null&&(f.return=null),l.return=null}catch(k){Ae(l,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bu(t,e),t=t.sibling}function Bu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),Gt(e),r&4){try{Cl(3,e,e.return),No(3,e)}catch(K){Ae(e,e.return,K)}try{Cl(5,e,e.return)}catch(K){Ae(e,e.return,K)}}break;case 1:Wt(t,e),Gt(e),r&512&&n!==null&&Mr(n,n.return);break;case 5:if(Wt(t,e),Gt(e),r&512&&n!==null&&Mr(n,n.return),e.flags&32){var l=e.stateNode;try{yn(l,"")}catch(K){Ae(e,e.return,K)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&ft(l,o),Ut(c,i);var k=Ut(c,o);for(i=0;i<f.length;i+=2){var z=f[i],F=f[i+1];z==="style"?pr(l,F):z==="dangerouslySetInnerHTML"?Yn(l,F):z==="children"?yn(l,F):De(l,z,F,k)}switch(c){case"input":fr(l,o);break;case"textarea":en(l,o);break;case"select":var R=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var B=o.value;B!=null?Lt(l,!!o.multiple,B,!1):R!==!!o.multiple&&(o.defaultValue!=null?Lt(l,!!o.multiple,o.defaultValue,!0):Lt(l,!!o.multiple,o.multiple?[]:"",!1))}l[ml]=o}catch(K){Ae(e,e.return,K)}}break;case 6:if(Wt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(K){Ae(e,e.return,K)}}break;case 3:if(Wt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(t.containerInfo)}catch(K){Ae(e,e.return,K)}break;case 4:Wt(t,e),Gt(e);break;case 13:Wt(t,e),Gt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(pi=ke())),r&4&&$u(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(k=ut)||z,Wt(t,e),ut=k):Wt(t,e),Gt(e),r&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!z&&(e.mode&1)!==0)for(W=e,z=e.child;z!==null;){for(F=W=z;W!==null;){switch(R=W,B=R.child,R.tag){case 0:case 11:case 14:case 15:Cl(4,R,R.return);break;case 1:Mr(R,R.return);var Q=R.stateNode;if(typeof Q.componentWillUnmount=="function"){r=R,n=R.return;try{t=r,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(K){Ae(r,n,K)}}break;case 5:Mr(R,R.return);break;case 22:if(R.memoizedState!==null){Wu(F);continue}}B!==null?(B.return=R,W=B):Wu(F)}z=z.sibling}e:for(z=null,F=e;;){if(F.tag===5){if(z===null){z=F;try{l=F.stateNode,k?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=F.stateNode,f=F.memoizedProps.style,i=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=Hr("display",i))}catch(K){Ae(e,e.return,K)}}}else if(F.tag===6){if(z===null)try{F.stateNode.nodeValue=k?"":F.memoizedProps}catch(K){Ae(e,e.return,K)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;z===F&&(z=null),F=F.return}z===F&&(z=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Wt(t,e),Gt(e),r&4&&$u(e);break;case 21:break;default:Wt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mu(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(yn(l,""),r.flags&=-33);var o=Uu(e);ci(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,c=Uu(e);ui(e,c,i);break;default:throw Error(u(161))}}catch(f){Ae(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kd(e,t,n){W=e,Vu(e)}function Vu(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var l=W,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||wo;if(!i){var c=l.alternate,f=c!==null&&c.memoizedState!==null||ut;c=wo;var k=ut;if(wo=i,(ut=f)&&!k)for(W=l;W!==null;)i=W,f=i.child,i.tag===22&&i.memoizedState!==null?Qu(l):f!==null?(f.return=i,W=f):Qu(l);for(;o!==null;)W=o,Vu(o),o=o.sibling;W=l,wo=c,ut=k}Hu(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,W=o):Hu(e)}}function Hu(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ut||No(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wa(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wa(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var z=k.memoizedState;if(z!==null){var F=z.dehydrated;F!==null&&rl(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}ut||t.flags&512&&ai(t)}catch(R){Ae(t,t.return,R)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Wu(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Qu(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{No(4,t)}catch(f){Ae(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(f){Ae(t,l,f)}}var o=t.return;try{ai(t)}catch(f){Ae(t,o,f)}break;case 5:var i=t.return;try{ai(t)}catch(f){Ae(t,i,f)}}}catch(f){Ae(t,t.return,f)}if(t===e){W=null;break}var c=t.sibling;if(c!==null){c.return=t.return,W=c;break}W=t.return}}var Xd=Math.ceil,jo=re.ReactCurrentDispatcher,di=re.ReactCurrentOwner,Ot=re.ReactCurrentBatchConfig,ye=0,Ge=null,Qe=null,tt=0,Rt=0,Ur=Rn(0),Ye=0,El=null,sr=0,So=0,fi=0,Pl=null,wt=null,pi=0,Ar=1/0,mn=null,ko=!1,mi=null,Fn=null,Co=!1,In=null,Eo=0,_l=0,hi=null,Po=-1,_o=0;function mt(){return(ye&6)!==0?ke():Po!==-1?Po:Po=ke()}function On(e){return(e.mode&1)===0?1:(ye&2)!==0&&tt!==0?tt&-tt:Ld.transition!==null?(_o===0&&(_o=Ui()),_o):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Xi(e.type)),e)}function Qt(e,t,n,r){if(50<_l)throw _l=0,hi=null,Error(u(185));Gr(e,n,r),((ye&2)===0||e!==Ge)&&(e===Ge&&((ye&2)===0&&(So|=n),Ye===4&&Mn(e,tt)),Nt(e,r),n===1&&ye===0&&(t.mode&1)===0&&(Ar=ke()+500,to&&Ln()))}function Nt(e,t){var n=e.callbackNode;Lc(e,t);var r=Il(e,e===Ge?tt:0);if(r===0)n!==null&&vr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vr(n),t===1)e.tag===0?Dd(Xu.bind(null,e)):Ta(Xu.bind(null,e)),Ed(function(){(ye&6)===0&&Ln()}),n=null;else{switch(Ai(r)){case 1:n=a;break;case 4:n=m;break;case 16:n=v;break;case 536870912:n=N;break;default:n=v}n=nc(n,Ku.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ku(e,t){if(Po=-1,_o=0,(ye&6)!==0)throw Error(u(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var r=Il(e,e===Ge?tt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Ro(e,r);else{t=r;var l=ye;ye|=2;var o=qu();(Ge!==e||tt!==t)&&(mn=null,Ar=ke()+500,ar(e,t));do try{Jd();break}catch(c){Yu(e,c)}while(!0);Ts(),jo.current=o,ye=l,Qe!==null?t=0:(Ge=null,tt=0,t=Ye)}if(t!==0){if(t===2&&(l=Yo(e),l!==0&&(r=l,t=yi(e,l))),t===1)throw n=El,ar(e,0),Mn(e,r),Nt(e,ke()),n;if(t===6)Mn(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Yd(l)&&(t=Ro(e,r),t===2&&(o=Yo(e),o!==0&&(r=o,t=yi(e,o))),t===1))throw n=El,ar(e,0),Mn(e,r),Nt(e,ke()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:ur(e,wt,mn);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=pi+500-ke(),10<t)){if(Il(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=js(ur.bind(null,e,wt,mn),t);break}ur(e,wt,mn);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-le(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xd(r/1960))-r,10<r){e.timeoutHandle=js(ur.bind(null,e,wt,mn),r);break}ur(e,wt,mn);break;case 5:ur(e,wt,mn);break;default:throw Error(u(329))}}}return Nt(e,ke()),e.callbackNode===n?Ku.bind(null,e):null}function yi(e,t){var n=Pl;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=wt,wt=n,t!==null&&gi(t)),e}function gi(e){wt===null?wt=e:wt.push.apply(wt,e)}function Yd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!$t(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~fi,t&=~So,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-le(t),r=1<<n;e[n]=-1,t&=~r}}function Xu(e){if((ye&6)!==0)throw Error(u(327));$r();var t=Il(e,0);if((t&1)===0)return Nt(e,ke()),null;var n=Ro(e,t);if(e.tag!==0&&n===2){var r=Yo(e);r!==0&&(t=r,n=yi(e,r))}if(n===1)throw n=El,ar(e,0),Mn(e,t),Nt(e,ke()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ur(e,wt,mn),Nt(e,ke()),null}function vi(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(Ar=ke()+500,to&&Ln())}}function ir(e){In!==null&&In.tag===0&&(ye&6)===0&&$r();var t=ye;ye|=1;var n=Ot.transition,r=Ce;try{if(Ot.transition=null,Ce=1,e)return e()}finally{Ce=r,Ot.transition=n,ye=t,(ye&6)===0&&Ln()}}function xi(){Rt=Ur.current,Te(Ur)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cd(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(_s(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:Ir(),Te(gt),Te(st),$s();break;case 5:Us(r);break;case 4:Ir();break;case 13:Te(Ie);break;case 19:Te(Ie);break;case 10:bs(r.type._context);break;case 22:case 23:xi()}n=n.return}if(Ge=e,Qe=e=Un(e.current,null),tt=Rt=t,Ye=0,El=null,fi=So=sr=0,wt=Pl=null,rr!==null){for(t=0;t<rr.length;t++)if(n=rr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}rr=null}return e}function Yu(e,t){do{var n=Qe;try{if(Ts(),fo.current=yo,po){for(var r=Oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}po=!1}if(or=0,Je=Xe=Oe=null,wl=!1,Nl=0,di.current=null,n===null||n.return===null){Ye=1,El=t,Qe=null;break}e:{var o=e,i=n.return,c=n,f=t;if(t=tt,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var k=f,z=c,F=z.tag;if((z.mode&1)===0&&(F===0||F===11||F===15)){var R=z.alternate;R?(z.updateQueue=R.updateQueue,z.memoizedState=R.memoizedState,z.lanes=R.lanes):(z.updateQueue=null,z.memoizedState=null)}var B=wu(i);if(B!==null){B.flags&=-257,Nu(B,i,c,o,t),B.mode&1&&xu(o,k,t),t=B,f=k;var Q=t.updateQueue;if(Q===null){var K=new Set;K.add(f),t.updateQueue=K}else Q.add(f);break e}else{if((t&1)===0){xu(o,k,t),wi();break e}f=Error(u(426))}}else if(Fe&&c.mode&1){var He=wu(i);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Nu(He,i,c,o,t),Ls(Or(f,c));break e}}o=f=Or(f,c),Ye!==4&&(Ye=2),Pl===null?Pl=[o]:Pl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=gu(o,f,t);Ha(o,x);break e;case 1:c=f;var p=o.type,j=o.stateNode;if((o.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Fn===null||!Fn.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=vu(o,c,t);Ha(o,I);break e}}o=o.return}while(o!==null)}Gu(n)}catch(Y){t=Y,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function qu(){var e=jo.current;return jo.current=yo,e===null?yo:e}function wi(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ge===null||(sr&268435455)===0&&(So&268435455)===0||Mn(Ge,tt)}function Ro(e,t){var n=ye;ye|=2;var r=qu();(Ge!==e||tt!==t)&&(mn=null,ar(e,t));do try{qd();break}catch(l){Yu(e,l)}while(!0);if(Ts(),ye=n,jo.current=r,Qe!==null)throw Error(u(261));return Ge=null,tt=0,Ye}function qd(){for(;Qe!==null;)Ju(Qe)}function Jd(){for(;Qe!==null&&!qr();)Ju(Qe)}function Ju(e){var t=tc(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Gu(e):Qe=t,di.current=null}function Gu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Vd(n,t,Rt),n!==null){Qe=n;return}}else{if(n=Hd(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ye===0&&(Ye=5)}function ur(e,t,n){var r=Ce,l=Ot.transition;try{Ot.transition=null,Ce=1,Gd(e,t,n,r)}finally{Ot.transition=l,Ce=r}return null}function Gd(e,t,n,r){do $r();while(In!==null);if((ye&6)!==0)throw Error(u(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zc(e,o),e===Ge&&(Qe=Ge=null,tt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Co||(Co=!0,nc(v,function(){return $r(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Ot.transition,Ot.transition=null;var i=Ce;Ce=1;var c=ye;ye|=4,di.current=null,Qd(e,n),Bu(n,e),vd(ws),Ul=!!xs,ws=xs=null,e.current=n,Kd(n),Fl(),ye=c,Ce=i,Ot.transition=o}else e.current=n;if(Co&&(Co=!1,In=e,Eo=l),o=e.pendingLanes,o===0&&(Fn=null),G(n.stateNode),Nt(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ko)throw ko=!1,e=mi,mi=null,e;return(Eo&1)!==0&&e.tag!==0&&$r(),o=e.pendingLanes,(o&1)!==0?e===hi?_l++:(_l=0,hi=e):_l=0,Ln(),null}function $r(){if(In!==null){var e=Ai(Eo),t=Ot.transition,n=Ce;try{if(Ot.transition=null,Ce=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,Eo=0,(ye&6)!==0)throw Error(u(331));var l=ye;for(ye|=4,W=e.current;W!==null;){var o=W,i=o.child;if((W.flags&16)!==0){var c=o.deletions;if(c!==null){for(var f=0;f<c.length;f++){var k=c[f];for(W=k;W!==null;){var z=W;switch(z.tag){case 0:case 11:case 15:Cl(8,z,o)}var F=z.child;if(F!==null)F.return=z,W=F;else for(;W!==null;){z=W;var R=z.sibling,B=z.return;if(Ou(z),z===k){W=null;break}if(R!==null){R.return=B,W=R;break}W=B}}}var Q=o.alternate;if(Q!==null){var K=Q.child;if(K!==null){Q.child=null;do{var He=K.sibling;K.sibling=null,K=He}while(K!==null)}}W=o}}if((o.subtreeFlags&2064)!==0&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Cl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,W=x;break e}W=o.return}}var p=e.current;for(W=p;W!==null;){i=W;var j=i.child;if((i.subtreeFlags&2064)!==0&&j!==null)j.return=i,W=j;else e:for(i=p;W!==null;){if(c=W,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:No(9,c)}}catch(Y){Ae(c,c.return,Y)}if(c===i){W=null;break e}var I=c.sibling;if(I!==null){I.return=c.return,W=I;break e}W=c.return}}if(ye=l,Ln(),E&&typeof E.onPostCommitFiberRoot=="function")try{E.onPostCommitFiberRoot(C,e)}catch{}r=!0}return r}finally{Ce=n,Ot.transition=t}}return!1}function Zu(e,t,n){t=Or(n,t),t=gu(e,t,1),e=Tn(e,t,1),t=mt(),e!==null&&(Gr(e,1,t),Nt(e,t))}function Ae(e,t,n){if(e.tag===3)Zu(e,e,n);else for(;t!==null;){if(t.tag===3){Zu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=Or(n,e),e=vu(t,e,1),t=Tn(t,e,1),e=mt(),t!==null&&(Gr(t,1,e),Nt(t,e));break}}t=t.return}}function Zd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(tt&n)===n&&(Ye===4||Ye===3&&(tt&130023424)===tt&&500>ke()-pi?ar(e,0):fi|=n),Nt(e,t)}function ec(e,t){t===0&&((e.mode&1)===0?t=1:(t=xr,xr<<=1,(xr&130023424)===0&&(xr=4194304)));var n=mt();e=dn(e,t),e!==null&&(Gr(e,t,n),Nt(e,n))}function ef(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ec(e,n)}function tf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}r!==null&&r.delete(t),ec(e,n)}var tc;tc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)xt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return xt=!1,Bd(e,t,n);xt=(e.flags&131072)!==0}else xt=!1,Fe&&(t.flags&1048576)!==0&&ba(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xo(e,t),e=t.pendingProps;var l=Rr(t,st.current);Fr(t,n),l=Hs(null,t,r,e,l,n);var o=Ws();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(o=!0,eo(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Os(t),l.updater=go,t.stateNode=l,l._reactInternals=t,Js(t,r,e,n),t=ti(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&Ps(t),pt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=rf(r),e=Vt(r,e),l){case 0:t=ei(null,t,r,e,n);break e;case 1:t=Pu(null,t,r,e,n);break e;case 11:t=ju(null,t,r,e,n);break e;case 14:t=Su(null,t,r,Vt(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),ei(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),Pu(e,t,r,l,n);case 3:e:{if(_u(t),e===null)throw Error(u(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Va(e,t),uo(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Or(Error(u(423)),t),t=Ru(e,t,r,n,l);break e}else if(r!==l){l=Or(Error(u(424)),t),t=Ru(e,t,r,n,l);break e}else for(_t=_n(t.stateNode.containerInfo.firstChild),Pt=t,Fe=!0,Bt=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===l){t=pn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),e===null&&Ds(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,Ns(r,l)?i=null:o!==null&&Ns(r,o)&&(t.flags|=32),Eu(e,t),pt(e,t,i,n),t.child;case 6:return e===null&&Ds(t),null;case 13:return Du(e,t,n);case 4:return Ms(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tr(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),ju(e,t,r,l,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,Re(so,r._currentValue),r._currentValue=i,o!==null)if($t(o.value,i)){if(o.children===l.children&&!gt.current){t=pn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){i=o.child;for(var f=c.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=fn(-1,n&-n),f.tag=2;var k=o.updateQueue;if(k!==null){k=k.shared;var z=k.pending;z===null?f.next=f:(f.next=z.next,z.next=f),k.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),Fs(o.return,n,t),c.lanes|=n;break}f=f.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(u(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Fs(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Fr(t,n),l=Ft(l),r=r(l),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,l=Vt(r,t.pendingProps),l=Vt(r.type,l),Su(e,t,r,l,n);case 15:return ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),xo(e,t),t.tag=1,vt(r)?(e=!0,eo(t)):e=!1,Fr(t,n),hu(t,r,l),Js(t,r,l,n),ti(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Cu(e,t,n)}throw Error(u(156,t.tag))};function nc(e,t){return gr(e,t)}function nf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new nf(e,t,n,r)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rf(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rt)return 11;if(e===lt)return 14}return 2}function Un(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Do(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")Ni(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case b:return cr(n.children,l,o,t);case J:i=8,l|=8;break;case fe:return e=Mt(12,n,t,l|2),e.elementType=fe,e.lanes=o,e;case Ke:return e=Mt(13,n,t,l),e.elementType=Ke,e.lanes=o,e;case $e:return e=Mt(19,n,t,l),e.elementType=$e,e.lanes=o,e;case _e:return Lo(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:i=10;break e;case Pe:i=9;break e;case rt:i=11;break e;case lt:i=14;break e;case ue:i=16,r=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=Mt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function cr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Lo(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=_e,e.lanes=n,e.stateNode={isHidden:!1},e}function ji(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Si(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ki(e,t,n,r,l,o,i,c,f){return e=new lf(e,t,n,c,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(o),e}function of(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Le,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rc(e){if(!e)return Dn;e=e._reactInternals;e:{if(on(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(vt(n))return La(e,n,t)}return t}function lc(e,t,n,r,l,o,i,c,f){return e=ki(n,r,!0,e,l,o,i,c,f),e.context=rc(null),n=e.current,r=mt(),l=On(n),o=fn(r,l),o.callback=t??null,Tn(n,o,l),e.current.lanes=l,Gr(e,l,r),Nt(e,r),e}function zo(e,t,n,r){var l=t.current,o=mt(),i=On(l);return n=rc(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(l,t,i),e!==null&&(Qt(e,l,i,o),ao(e,l,i)),i}function To(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ci(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function sf(){return null}var sc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ei(e){this._internalRoot=e}bo.prototype.render=Ei.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));zo(e,t,null,null)},bo.prototype.unmount=Ei.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){zo(null,e,null,null)}),t[sn]=null}};function bo(e){this._internalRoot=e}bo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vi();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&Qi(e)}};function Pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function af(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var k=To(i);o.call(k)}}var i=lc(t,r,e,0,null,!1,!1,"",ic);return e._reactRootContainer=i,e[sn]=i.current,fl(e.nodeType===8?e.parentNode:e),ir(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var k=To(f);c.call(k)}}var f=ki(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=f,e[sn]=f.current,fl(e.nodeType===8?e.parentNode:e),ir(function(){zo(t,f,n,r)}),f}function Io(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var c=l;l=function(){var f=To(i);c.call(f)}}zo(t,i,e,l)}else i=af(n,t,e,l,r);return To(i)}$i=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(Jo(t,n|1),Nt(t,ke()),(ye&6)===0&&(Ar=ke()+500,Ln()))}break;case 13:ir(function(){var r=dn(e,1);if(r!==null){var l=mt();Qt(r,e,1,l)}}),Ci(e,1)}},Go=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=mt();Qt(t,e,134217728,n)}Ci(e,134217728)}},Bi=function(e){if(e.tag===13){var t=On(e),n=dn(e,t);if(n!==null){var r=mt();Qt(n,e,t,r)}Ci(e,t)}},Vi=function(){return Ce},Hi=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},vn=function(e,t,n){switch(t){case"input":if(fr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Gl(r);if(!l)throw Error(u(90));Dt(r),fr(r,l)}}}break;case"textarea":en(e,n);break;case"select":t=n.value,t!=null&&Lt(e,!!n.multiple,t,!1)}},qn=vi,Tl=ir;var uf={usingClientEntryPoint:!1,Events:[hl,Pr,Gl,Kr,Xr,vi]},Rl={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cf={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nn(e),e===null?null:e.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||sf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{C=Oo.inject(cf),E=Oo}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf,jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pi(t))throw Error(u(200));return of(e,t,null,n)},jt.createRoot=function(e,t){if(!Pi(e))throw Error(u(299));var n=!1,r="",l=sc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ki(e,1,!1,null,null,n,!1,r,l),e[sn]=t.current,fl(e.nodeType===8?e.parentNode:e),new Ei(t)},jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=Nn(t),e=e===null?null:e.stateNode,e},jt.flushSync=function(e){return ir(e)},jt.hydrate=function(e,t,n){if(!Fo(t))throw Error(u(200));return Io(null,e,t,!0,n)},jt.hydrateRoot=function(e,t,n){if(!Pi(e))throw Error(u(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=sc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=lc(t,null,e,1,n??null,l,!1,o,i),e[sn]=t.current,fl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new bo(t)},jt.render=function(e,t,n){if(!Fo(t))throw Error(u(200));return Io(null,e,t,!1,n)},jt.unmountComponentAtNode=function(e){if(!Fo(e))throw Error(u(40));return e._reactRootContainer?(ir(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1},jt.unstable_batchedUpdates=vi,jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fo(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Io(e,t,n,!1,r)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var hc;function xf(){if(hc)return Di.exports;hc=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),Di.exports=vf(),Di.exports}var yc;function wf(){if(yc)return Mo;yc=1;var d=xf();return Mo.createRoot=d.createRoot,Mo.hydrateRoot=d.hydrateRoot,Mo}var Nf=wf();const Ne={get(d){try{return localStorage.getItem(d)}catch(h){return console.warn("safeLocalStorage.get failed",h),null}},set(d,h){try{if(localStorage.setItem(d,h),localStorage.getItem(d)!==h)throw new Error("Failed to verify localStorage write")}catch(u){throw console.error("safeLocalStorage.set failed",u),u}},remove(d){try{localStorage.removeItem(d)}catch(h){console.warn("safeLocalStorage.remove failed",h)}}},jf="narrative-covers",Sf=1,Vn="covers",St="metadata";let Uo=null;async function Ho(){return Uo||new Promise((d,h)=>{const u=indexedDB.open(jf,Sf);u.onerror=()=>h(u.error),u.onsuccess=()=>{Uo=u.result,d(Uo)},u.onupgradeneeded=P=>{const y=P.target.result;y.objectStoreNames.contains(Vn)||y.createObjectStore(Vn,{keyPath:"coverKey"}),y.objectStoreNames.contains(St)||y.createObjectStore(St,{keyPath:"projectId"}).createIndex("lastUsed","lastUsed",{unique:!1})}})}async function kf(d,h,u=120,P=90){const y=await Ho(),S=`cover-${d}-${Date.now()}`,T=h.size,D=y.transaction([Vn],"readwrite").objectStore(Vn).put({coverKey:S,blob:h});await new Promise((M,O)=>{D.onsuccess=()=>M(),D.onerror=()=>O(D.error)});const A={projectId:d,coverKey:S,lastUsed:Date.now(),width:u,height:P,sizeBytes:T},V=y.transaction([St],"readwrite").objectStore(St).put(A);return await new Promise((M,O)=>{V.onsuccess=()=>M(),V.onerror=()=>O(V.error)}),S}async function Cf(d){const h=await Ho(),u=h.transaction([St],"readonly").objectStore(St).get(d),P=await new Promise((D,A)=>{u.onsuccess=()=>D(u.result),u.onerror=()=>A(u.error)});if(!P)return null;const y=h.transaction([St],"readwrite").objectStore(St).put({...P,lastUsed:Date.now()});await new Promise((D,A)=>{y.onsuccess=()=>D(),y.onerror=()=>A(y.error)});const S=h.transaction([Vn],"readonly").objectStore(Vn).get(P.coverKey);return(await new Promise((D,A)=>{S.onsuccess=()=>D(S.result),S.onerror=()=>A(S.error)}))?.blob||null}async function Ef(d){const h=await Cf(d);return h?URL.createObjectURL(h):null}async function Pf(d){const h=await Ho(),u=h.transaction([St],"readonly").objectStore(St).get(d),P=await new Promise((T,D)=>{u.onsuccess=()=>T(u.result),u.onerror=()=>D(u.error)});if(!P)return;const y=h.transaction([Vn],"readwrite").objectStore(Vn).delete(P.coverKey);await new Promise((T,D)=>{y.onsuccess=()=>T(),y.onerror=()=>D(y.error)});const S=h.transaction([St],"readwrite").objectStore(St).delete(d);await new Promise((T,D)=>{S.onsuccess=()=>T(),S.onerror=()=>D(S.error)})}async function _f(){const h=(await Ho()).transaction([St],"readonly").objectStore(St).index("lastUsed");return await new Promise((P,y)=>{const S=h.getAll();S.onsuccess=()=>P(S.result),S.onerror=()=>y(S.error)})}async function Rf(d=10){const h=await _f(),u=[];if(h.length>d){const P=h.slice(0,h.length-d);for(const y of P)await Pf(y.projectId),u.push(y.projectId)}return u}var Df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lf=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kt=(d,h)=>{const u=L.forwardRef(({color:P="currentColor",size:y=24,strokeWidth:S=2,absoluteStrokeWidth:T,children:D,...A},V)=>L.createElement("svg",{ref:V,...Df,width:y,height:y,stroke:P,strokeWidth:T?Number(S)*24/Number(y):S,className:`lucide lucide-${Lf(d)}`,...A},[...h.map(([M,O])=>L.createElement(M,O)),...(Array.isArray(D)?D:[D])||[]]));return u.displayName=`${d}`,u},zf=kt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Tf=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),bf=kt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ff=kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),If=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Fi=kt("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Ii=kt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),$o=kt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Ti=kt("Pencil",[["line",{x1:"18",x2:"22",y1:"2",y2:"6",key:"1e96e7"}],["path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z",key:"12iwkt"}]]),Of=kt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Mf=kt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),bi=kt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Uf=kt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Bn=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Af=/^(?:day|d)[\s_-]?(\d{1,2})(?:[^\d]|$)/i,$f=/(\d{4})-(\d{2})-(\d{2})/,Bf=/(\d{4})_(\d{2})_(\d{2})/,Vf=/^(\d{1,2})[\s_-]/;function gc(d,h){try{const u=new Date(d),P=h?new Date(h):u;if(isNaN(u.getTime())||isNaN(P.getTime()))return null;const y=u.getTime()-P.getTime();return Math.floor(y/(1e3*60*60*24))+1}catch{return null}}function Sc(d,h){const u=d.match(Af);if(u){const S=parseInt(u[1],10);if(S>=1&&S<=31)return{day:S,pattern:"day_prefix",confidence:"high"}}let P=d.match($f);if(P){const S=`${P[1]}-${P[2]}-${P[3]}`,T=gc(S,h);if(T!==null)return{day:T,pattern:"iso_date",confidence:h?"high":"medium"}}if(P=d.match(Bf),P){const S=`${P[1]}-${P[2]}-${P[3]}`,T=gc(S,h);if(T!==null)return{day:T,pattern:"iso_date",confidence:h?"high":"medium"}}const y=d.match(Vf);if(y){const S=parseInt(y[1],10);if(S>=1&&S<=31)return{day:S,pattern:"numeric_prefix",confidence:"medium"}}return null}function Hf(d,h){return Sc(d,h)?.day??null}function vc(d){return d===null?"Unsorted":`Day ${String(d).padStart(2,"0")}`}function Wf(d){return[/^\..*/,/^unsorted$/i,/^inbox$/i,/^miscellaneous$/i,/^metadata$/i,/^_meta$/i].some(u=>u.test(d))}function Qf(d,h){const{photoCountMap:u=new Map,projectName:P="",tripStart:y}=h||{},S=[];for(const T of d){if(Wf(T)||P&&T.toLowerCase()===P.toLowerCase())continue;const D=u.get(T)||0,A=Sc(T,y);A?S.push({folder:T,folderPath:T,detectedDay:A.day,confidence:A.confidence,patternMatched:A.pattern,suggestedName:vc(A.day),manual:!1,photoCount:D}):S.push({folder:T,folderPath:T,detectedDay:null,confidence:"undetected",patternMatched:"none",suggestedName:vc(null),manual:!1,photoCount:D})}return S.sort((T,D)=>T.detectedDay===null&&D.detectedDay===null?T.folder.localeCompare(D.folder):T.detectedDay===null?1:D.detectedDay===null?-1:T.detectedDay-D.detectedDay),S}function kc({isOpen:d,onClose:h,onComplete:u,recentProjects:P=[],onSelectRecent:y}){const[S,T]=L.useState("select"),[D,A]=L.useState(""),[V,M]=L.useState(""),[O,$]=L.useState(null),[X,oe]=L.useState(null),[ne,ie]=L.useState([]),[je,Me]=L.useState(!1),De=hn.useRef(null),re=L.useCallback(async()=>{if(!D.trim()){$("Please enter a project name");return}if(!X){$("Please choose a folder");return}$(null),Me(!0);try{const b=new Map,J=[];for await(const[Pe,rt]of X.entries()){if(rt.kind!=="directory")continue;J.push(Pe);let Ke=0;for await(const[,$e]of rt.entries()){if($e.kind!=="file")continue;const lt=$e.name.split(".").pop()?.toLowerCase()||"";["jpg","jpeg","png","heic","webp"].includes(lt)&&(Ke+=1)}b.set(Pe,Ke)}const nt=Qf(J,{photoCountMap:b,projectName:D}).map(Pe=>({...Pe,skip:Pe.confidence==="undetected"?!0:Pe.skip??!1}));ie(nt),T("preview")}catch(b){$(b instanceof Error?b.message:"Failed to detect folder structure")}finally{Me(!1)}},[X,D]),Ee=L.useCallback((b,J,fe)=>{ie(nt=>{const Pe=[...nt];return J==="detectedDay"?(Pe[b].detectedDay=fe===""?null:parseInt(fe,10),Pe[b].manual=!0):J==="skip"?Pe[b].skip=fe:Pe[b][J]=fe,Pe})},[]),Le=L.useCallback(()=>{if(!D.trim()){$("Please enter a project name");return}if(!X){$("Please choose a folder");return}const b=V.trim()||X.name,J=P.find(fe=>fe.rootPath.toLowerCase()===b.toLowerCase());if(J){$(`This folder is already being used by project "${J.projectName}". Opening the same folder twice could cause conflicts. Open the existing project instead or choose a different folder.`);return}$(null),u({projectName:D.trim(),rootPath:b,dirHandle:X,mappings:ne}),h()},[X,ne,h,u,D,V,P]);return d?s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-start justify-center z-50 pt-12",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full mx-6 max-h-[88vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:S==="select"?"Create Project":"Review Folder Structure"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S==="select"?"Add a project name and choose the folder that contains your photos.":"Confirm how your existing folders map to days."})]}),s.jsx("button",{onClick:h,className:"text-gray-600 hover:text-gray-800 rounded-md px-2 py-1","aria-label":"Close",children:s.jsx(Bn,{size:20})})]}),s.jsxs("div",{className:"px-8 py-6 space-y-6",children:[O&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-800",children:O}),S==="select"&&P.length>0&&s.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recent Projects"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Open a recent project instead of creating a new one."})]}),s.jsx("div",{className:"space-y-2",children:P.map(b=>s.jsxs("button",{onClick:()=>{y?.(b.projectId),h()},className:"w-full text-left rounded-lg border border-gray-200 bg-white px-3 py-2 hover:border-blue-300 hover:bg-blue-50",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.projectName}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:b.rootPath})]},b.projectId))})]}),S==="select"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),s.jsx("input",{type:"text",value:D,onChange:b=>A(b.target.value),placeholder:"e.g., Mexico 2025",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-gray-600 text-gray-900"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder Path"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:V,onChange:b=>M(b.target.value),placeholder:"/Users/you/trips/mexico",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder:text-gray-600 text-gray-900"}),s.jsx("input",{ref:De,type:"file",webkitdirectory:"true",directory:"true",mozdirectory:"true",className:"hidden",onChange:b=>{const J=b.currentTarget.files;if(!J||J.length===0)return;const fe=J[0],Pe=(fe.webkitRelativePath||fe.name).split("/")[0];M(Pe),oe(null),b.currentTarget.value=""}}),s.jsxs("button",{onClick:async()=>{if("showDirectoryPicker"in window){const b=await window.showDirectoryPicker();oe(b),M(b?.name||"");return}De.current?.click()},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 flex items-center gap-2",children:[s.jsx(Fi,{size:18}),"Browse"]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Use the folder picker to grant access. If the picker is unavailable, paste the full path (the app will ask again on first open)."})]})]}),S==="preview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Review the detected folders and adjust the day numbers if needed."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[s.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-700",children:"Folder"}),s.jsx("th",{className:"text-center px-3 py-2 font-medium text-gray-700",children:"Day #"}),s.jsx("th",{className:"text-center px-3 py-2 font-medium text-gray-700",children:"Photos"}),s.jsx("th",{className:"text-center px-3 py-2 font-medium text-gray-700",children:"Action"})]})}),s.jsxs("tbody",{children:[ne.map((b,J)=>s.jsxs("tr",{className:`border-b border-gray-200 ${b.skip?"bg-gray-100 opacity-60":"hover:bg-blue-50"}`,children:[s.jsx("td",{className:"px-3 py-3 text-gray-900",children:b.folder}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("input",{type:"number",min:"1",max:"31",value:b.detectedDay??"",onChange:fe=>Ee(J,"detectedDay",fe.target.value),disabled:b.skip,className:"w-12 px-2 py-1 border border-gray-300 rounded text-center focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:""})}),s.jsx("td",{className:"px-3 py-3 text-center text-gray-600",children:b.photoCount}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("button",{onClick:()=>Ee(J,"skip",!b.skip),className:`px-3 py-1 rounded text-sm font-medium ${b.skip?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:b.skip?"Skip":"Map"})})]},b.folder)),ne.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-4 text-sm text-gray-600 text-center",children:"No subfolders detected. You can still continue and sort manually."})})]})]})})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-between gap-3",children:S==="select"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium",children:"Cancel"}),s.jsx("button",{onClick:re,disabled:!D.trim()||!X||je,"aria-disabled":!D.trim()||!X||je,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-not-allowed",children:je?"Detecting":"Next"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>T("select"),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 font-medium",children:"Back"}),s.jsx("button",{onClick:Le,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Create Project"})]})})]})}):null}function Kf({project:d,onOpen:h}){const[u,P]=L.useState(null);return L.useEffect(()=>(d.coverKey?Ef(d.projectId).then(y=>P(y)).catch(y=>{console.warn(`Failed to load cover for ${d.projectId}:`,y),d.coverUrl&&P(d.coverUrl)}):d.coverUrl&&P(d.coverUrl),()=>{u&&u.startsWith("blob:")&&URL.revokeObjectURL(u)}),[d,d.coverKey,d.coverUrl]),s.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-800 bg-gray-950 hover:border-blue-500 transition-colors group cursor-pointer",children:[s.jsx("button",{onClick:()=>h(d.projectId),className:"w-full block text-left","aria-label":`Open project ${d.projectName}`,children:s.jsx("div",{className:"aspect-video overflow-hidden bg-gray-900 relative",children:u?s.jsx("img",{src:u,alt:d.projectName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center text-sm text-gray-400",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-xs font-medium text-gray-500",children:"No cover"})})})})}),s.jsxs("div",{className:"p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:d.projectName}),typeof d.totalPhotos=="number"&&s.jsx("div",{className:"text-xs text-gray-500",children:`${d.totalPhotos} ${d.totalPhotos===1?"photo":"photos"}`}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:d.rootPath})]})]})}const Xf="1.7.3";class Br{static instance;version;constructor(){this.version=Xf}static getInstance(){return Br.instance||(Br.instance=new Br),Br.instance}getVersion(){return this.version}getDisplayVersion(){return`v${this.version}`}isValidVersion(h){return/^\d+\.\d+\.\d+$/.test(h)}isCurrentVersionValid(){return this.isValidVersion(this.version)}getVersionComponents(){const[h,u,P]=this.version.split(".").map(Number);return{major:h,minor:u,patch:P}}compareVersions(h,u){const P=h.split(".").map(Number),y=u.split(".").map(Number);for(let S=0;S<3;S++){if(P[S]<y[S])return-1;if(P[S]>y[S])return 1}return 0}async fetchRuntimeVersion(){try{return null}catch(h){return console.warn("Error fetching runtime version:",h),null}}async getCurrentVersion(){return this.version}}const Bo=Br.getInstance();function Yf({isOpen:d,onClose:h,onCreateComplete:u,onOpenProject:P,recentProjects:y=[],canClose:S=!1,errorMessage:T=null}){const[D,A]=L.useState(!1),[V,M]=L.useState(Bo.getDisplayVersion());L.useEffect(()=>{(async()=>{try{const ne=await Bo.getCurrentVersion();M(`v${ne}`)}catch(ne){console.warn("Failed to fetch runtime version:",ne)}})()},[]);const O=typeof globalThis<"u"&&(globalThis.vitest||globalThis.__APP_VERSION__==="0.0.0"),$="showDirectoryPicker"in window,X="indexedDB"in window;return!O&&(!$||!X)?s.jsx("div",{className:"h-screen bg-gray-950 text-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md mx-auto text-center p-6",children:[s.jsx("div",{className:"text-red-400 text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Browser Not Supported"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"This app requires a modern browser with support for the File System Access API and IndexedDB."}),s.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[!$&&s.jsx("div",{children:" File System Access API not available"}),!X&&s.jsx("div",{children:" IndexedDB not available"})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Please use a recent version of Chrome, Edge, or another supported browser."})]})}):s.jsxs("div",{className:"h-screen bg-gray-950 text-gray-100 flex flex-col",children:[s.jsx("div",{className:"border-b border-gray-800 bg-gray-900/50 backdrop-blur-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/Narrative/assets/Narrative_icon.png",alt:"Narrative",className:"w-8 h-8 rounded"}),s.jsx("h1",{className:"text-xl font-bold",children:"Narrative"})]}),s.jsx("div",{className:"px-3 py-1 bg-gray-800 text-gray-300 rounded-md text-xs font-medium tracking-wide",children:s.jsx("span",{className:"uppercase",children:V})})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Projects"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Create a new project or open a recent one"})]}),T&&s.jsx("div",{className:"rounded-lg border border-red-800 bg-red-950/60 px-4 py-3 text-sm text-red-200 mb-6",children:T}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 auto-rows-max",children:[s.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2 border-dashed border-gray-700 bg-gray-950 hover:border-blue-500 transition-colors group cursor-pointer",children:[s.jsx("button",{onClick:()=>A(!0),className:"w-full block text-left","aria-label":"Create new project",children:s.jsx("div",{className:"aspect-video overflow-hidden bg-gray-900 relative",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center group-hover:from-gray-700 group-hover:to-gray-800 transition-colors",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-700 group-hover:bg-blue-500/20 flex items-center justify-center mb-2 transition-colors",children:s.jsx(Of,{className:"w-7 h-7 text-blue-400"})})})})}),s.jsxs("div",{className:"p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-200",children:"New Project"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Start organizing photos"})]})]}),y.map(oe=>s.jsx(Kf,{project:oe,onOpen:P},oe.projectId))]}),y.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No recent projects. Create one to get started."})})]})}),s.jsx(kc,{isOpen:D,onClose:()=>A(!1),onComplete:oe=>{A(!1),u(oe)},recentProjects:y,onSelectRecent:P})]})}function qf({isOpen:d,title:h="Loading Project",message:u="Please wait while we load your project...",progress:P=0,showProgressBar:y=!0}){const[S,T]=L.useState(0);return L.useEffect(()=>{if(P!==S){const D=setTimeout(()=>{T(P)},100);return()=>clearTimeout(D)}},[P,S]),d?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border border-gray-800",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-lg opacity-20"}),s.jsx($o,{className:"w-12 h-12 text-blue-400 animate-spin relative"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:h}),s.jsx("p",{className:"text-gray-400 text-sm",children:u})]})]}),y&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Progress"}),s.jsxs("span",{className:"text-xs font-bold text-blue-400",children:[Math.round(S),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${S}%`}})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500 animate-pulse",children:S===100?"Almost done...":"Loading..."})})]})}):null}const Jf=({photo:d,filteredPhotos:h,onClose:u,onNavigate:P,onToggleFavorite:y,onAssignBucket:S,onAssignDay:T,selectedBucket:D,selectedDay:A,buckets:V,dayLabels:M={}})=>{const[O,$]=L.useState(h.findIndex(b=>b.id===d.id)),[X,oe]=L.useState(null),[ne,ie]=L.useState(!1),[je,Me]=L.useState(null),De=L.useRef(null);L.useEffect(()=>{const b=h.findIndex(J=>J.id===d.id);b!==-1&&b!==O&&$(b)},[h,d.id,O]);const re=h[O]||d;L.useEffect(()=>(oe(null),ie(!0),Me(null),De.current=null,(async()=>{try{if(re.fileHandle){const J=await re.fileHandle.getFile(),fe=URL.createObjectURL(J);De.current=fe,oe(fe)}else re.thumbnail?oe(re.thumbnail):Me("No image data available")}catch(J){console.error("Failed to load full resolution image:",J),re.thumbnail?oe(re.thumbnail):Me("Failed to load image")}finally{ie(!1)}})(),()=>{if(De.current&&De.current.startsWith("blob:"))try{URL.revokeObjectURL(De.current)}catch{}}),[re.id,re.fileHandle,re.thumbnail]);const Ee=L.useCallback(b=>{let J=O;b==="next"?J=Math.min(O+1,h.length-1):J=Math.max(O-1,0),J!==O&&($(J),P(h[J].id))},[O,h,P]),Le=L.useCallback(b=>{b.key==="Escape"?(b.preventDefault(),u()):b.key==="ArrowRight"?(b.preventDefault(),Ee("next")):b.key==="ArrowLeft"?(b.preventDefault(),Ee("prev")):(b.key==="f"||b.key==="F")&&(b.preventDefault(),y(re.id))},[re.id,u,Ee,y]);return L.useEffect(()=>(window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)),[Le]),s.jsxs("div",{className:"fixed inset-0 bg-black z-40 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Inspect Mode"}),s.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Close inspect mode",children:s.jsx(Bn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex items-center justify-center bg-gray-950 overflow-auto relative group",children:[ne&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx($o,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Loading image..."})]})}),je&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50 z-10",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-red-400",children:je})})}),X&&s.jsx(s.Fragment,{children:re.mimeType?.startsWith("video/")?s.jsx("video",{src:X,className:"max-w-full max-h-full object-contain",controls:!0,muted:!0}):s.jsx("img",{src:X,alt:re.currentName,className:"max-w-full max-h-full object-contain"})}),O>0&&s.jsx("button",{onClick:()=>Ee("prev"),className:"absolute left-4 p-2 bg-black/60 hover:bg-black/80 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Previous photo",children:s.jsx(bf,{className:"w-6 h-6"})}),O<h.length-1&&s.jsx("button",{onClick:()=>Ee("next"),className:"absolute right-4 p-2 bg-black/60 hover:bg-black/80 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Next photo",children:s.jsx(Ff,{className:"w-6 h-6"})}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-sm text-gray-400",children:[O+1," / ",h.length]})]}),s.jsxs("div",{className:"w-80 border-l border-gray-800 bg-gray-900 overflow-y-auto flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-100 mb-2",children:"Photo Details"}),s.jsx("p",{className:"text-xs text-gray-400 break-words",children:re.currentName}),re.filePath&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 break-words",children:re.filePath})]}),s.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase mb-2 block",children:"MECE Category"}),s.jsx("div",{className:"space-y-1",children:V.map(b=>s.jsx("button",{onClick:J=>{const fe=re.bucket===b.key?null:b.key;S(re.id,fe||""),J.shiftKey&&Ee("next")},className:`w-full px-3 py-2 rounded text-sm text-left transition-colors ${re.bucket===b.key?`${b.color} text-white font-semibold`:"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:b.key}),s.jsx("span",{children:b.label})]})},b.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase mb-2 block",children:"Day"}),s.jsxs("select",{value:re.day??"",onChange:b=>{const J=b.target.value?Number.parseInt(b.target.value,10):null;T(re.id,J)},className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-100 text-sm",children:[s.jsx("option",{value:"",children:"Unassigned"}),Array.from({length:31},(b,J)=>J+1).map(b=>s.jsx("option",{value:b,children:M[b]||`Day ${String(b).padStart(2,"0")}`},b))]})]}),s.jsxs("button",{onClick:()=>y(re.id),className:`w-full px-3 py-2 rounded text-sm font-semibold transition-colors flex items-center gap-2 ${re.favorite?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[s.jsx(Ii,{className:`w-4 h-4 ${re.favorite?"fill-current":""}`}),re.favorite?"Favorited":"Mark as Favorite"]})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-800 bg-gray-950 space-y-1 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Navigate"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"F"}),s.jsx("span",{children:"Toggle Favorite"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Esc"}),s.jsx("span",{children:"Close"})]})]})]})]})]})},Gf="modulepreload",Zf=function(d){return"/Narrative/"+d},xc={},ep=function(h,u,P){let y=Promise.resolve();if(u&&u.length>0){let A=function(V){return Promise.all(V.map(M=>Promise.resolve(M).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const T=document.querySelector("meta[property=csp-nonce]"),D=T?.nonce||T?.getAttribute("nonce");y=A(u.map(V=>{if(V=Zf(V),V in xc)return;xc[V]=!0;const M=V.endsWith(".css"),O=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${V}"]${O}`))return;const $=document.createElement("link");if($.rel=M?"stylesheet":Gf,M||($.as="script"),$.crossOrigin="",$.href=V,D&&$.setAttribute("nonce",D),document.head.appendChild($),M)return new Promise((X,oe)=>{$.addEventListener("load",X),$.addEventListener("error",()=>oe(new Error(`Unable to preload CSS for ${V}`)))})}))}function S(T){const D=new Event("vite:preloadError",{cancelable:!0});if(D.payload=T,window.dispatchEvent(D),!D.defaultPrevented)throw T}return y.then(T=>{for(const D of T||[])D.status==="rejected"&&S(D.reason);return h().catch(S)})},tp=["jpg","jpeg","png","heic","webp","mp4","mov","webm","avi","mkv"],Wo="narrative:projectState:",np="narrative:handles",Hn="projects",Vo={autoDay:!0,folderStructure:{daysFolder:"01_DAYS",archiveFolder:"98_ARCHIVE",favoritesFolder:"FAV",metaFolder:"_meta"}};function Cc(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}async function Mi(){if(!window.indexedDB)throw new Error("IndexedDB is not available in this environment.");return new Promise((d,h)=>{const u=indexedDB.open(np,1);u.onupgradeneeded=()=>{const P=u.result;P.objectStoreNames.contains(Hn)||P.createObjectStore(Hn)},u.onsuccess=()=>d(u.result),u.onerror=()=>h(u.error)})}async function rp(d,h){const u=await Mi();return new Promise((P,y)=>{const S=u.transaction(Hn,"readwrite");S.objectStore(Hn).put(h,d),S.oncomplete=()=>P(),S.onerror=()=>y(S.error)})}async function lp(d){const h=await Mi();return new Promise((u,P)=>{const S=h.transaction(Hn,"readonly").objectStore(Hn).get(d);S.onsuccess=()=>u(S.result||null),S.onerror=()=>P(S.error)})}function op(d){const h=d.split(".").pop()?.toLowerCase()||"";return tp.includes(h)}function sp(d){const h=d.toLowerCase();return d.startsWith(".")||d.startsWith("._")||h==="thumbs.db"||h==="desktop.ini"}async function Ec(d,h=""){const u=[];for await(const[P,y]of d.entries())if(y.kind==="directory"){if(P.startsWith("."))continue;const S=await Ec(y,h?`${h}/${P}`:P);u.push(...S)}else if(y.kind==="file"){if(sp(P)||!op(P))continue;const S=h?`${h}/${P}`:P;u.push({handle:y,path:S})}return u}async function ip(d){try{if(typeof createImageBitmap<"u")return(await createImageBitmap(d)).close(),d}catch{}try{const P=(await ep(async()=>{const{default:y}=await import("./heic2any-CDOziL-o.js").then(S=>S.h);return{default:y}},[])).default;try{return await P({blob:d,toType:"image/jpeg",quality:.8})}catch(y){if(y?.message?.includes("already browser readable")||y?.message?.includes("ERR_USER")||y?.code===1)return d;console.warn(`heic2any conversion failed for ${d.name}:`,y)}}catch{console.warn("heic2any library not available, trying fallbacks")}const h=document.createElement("canvas"),u=h.getContext("2d");if(!u)return new Blob([""],{type:"image/jpeg"});try{if(typeof createImageBitmap<"u")try{const P=await createImageBitmap(d);h.width=P.width||400,h.height=P.height||300;try{u.drawImage(P,0,0)}catch{}return new Promise((y,S)=>{try{if(typeof h.toBlob=="function")h.toBlob(T=>{if(T){y(T);return}try{const A=h.toDataURL("image/jpeg",.8).split(","),V=A[0].match(/:(.*?);/),M=A[1];let O;if(typeof atob=="function"){const $=atob(M);let X=$.length;for(O=new Uint8Array(X);X--;)O[X]=$.charCodeAt(X)}else if(typeof Buffer<"u"){const $=Buffer.from(M,"base64");O=new Uint8Array($.buffer,$.byteOffset,$.byteLength)}else throw new Error("No base64 decoder available");y(new Blob([O],{type:V&&V[1]||"image/jpeg"}))}catch{y(new Blob([""],{type:"image/jpeg"}))}},"image/jpeg",.8);else{const D=h.toDataURL("image/jpeg",.8).split(","),A=D[0].match(/:(.*?);/),V=D[1];let M;if(typeof atob=="function"){const O=atob(V);let $=O.length;for(M=new Uint8Array($);$--;)M[$]=O.charCodeAt($)}else if(typeof Buffer<"u"){const O=Buffer.from(V,"base64");M=new Uint8Array(O.buffer,O.byteOffset,O.byteLength)}else return y(new Blob([""],{type:"image/jpeg"}));y(new Blob([M],{type:A&&A[1]||"image/jpeg"}))}}catch{y(new Blob([""],{type:"image/jpeg"}))}})}catch{}try{const P=new Image,y=URL.createObjectURL(d);return P.crossOrigin="Anonymous",await new Promise((S,T)=>{P.onload=()=>S(),P.onerror=()=>T(new Error("Image load failed")),P.src=y}),h.width=P.naturalWidth||P.width||400,h.height=P.naturalHeight||P.height||300,u.drawImage(P,0,0),URL.revokeObjectURL(y),new Promise((S,T)=>{h.toBlob(D=>{if(D){S(D);return}try{const V=h.toDataURL("image/jpeg",.8).split(","),M=V[0].match(/:(.*?);/),O=V[1];let $;if(typeof atob=="function"){const X=atob(O);let oe=X.length;for($=new Uint8Array(oe);oe--;)$[oe]=X.charCodeAt(oe)}else if(typeof Buffer<"u"){const X=Buffer.from(O,"base64");$=new Uint8Array(X.buffer,X.byteOffset,X.byteLength)}else{S(new Blob([""],{type:"image/jpeg"}));return}S(new Blob([$],{type:M&&M[1]||"image/jpeg"}))}catch{S(new Blob([""],{type:"image/jpeg"}))}},"image/jpeg",.8)})}catch{}return h.width=400,h.height=300,u.fillStyle="#e5e5e5",u.fillRect(0,0,400,300),u.fillStyle="#666666",u.font="bold 16px sans-serif",u.textAlign="center",u.textBaseline="middle",u.fillText("HEIC",200,140),u.font="12px sans-serif",u.fillText("Preview not available",200,165),new Promise(P=>{h.toBlob(y=>{if(y){P(y);return}P(new Blob([""],{type:"image/jpeg"}))},"image/jpeg",.8)})}catch{return new Blob([""],{type:"image/jpeg"})}}async function Pc(d,h){const u=await Ec(d),P=[],y=new Set;for(let S=0;S<u.length;S++){const T=u[S],D=Math.round((S+1)/u.length*100);h?.(D,`Processing ${T.handle.name}...`);const A=await T.handle.getFile(),V=A.lastModified,M=A.name,O=`${M}|${V}|${A.size}`;if(y.has(O))continue;y.add(O);const $=Cc(),X=A.name.split(".").pop()?.toLowerCase()||"",oe=X==="heic"||X==="heif"||A.type.toLowerCase().includes("heic");let ne="";if(oe)try{const ie=await ip(A);ie&&(ne=URL.createObjectURL(ie))}catch(ie){console.warn(`Failed to generate preview for ${M}:`,ie)}else try{ne=URL.createObjectURL(A)}catch(ie){console.warn(`Failed to create object URL for ${M}:`,ie)}P.push({id:$,originalName:M,currentName:M,timestamp:V,day:null,bucket:null,sequence:null,favorite:!1,rating:0,archived:!1,thumbnail:ne,mimeType:A.type||(oe?"image/heic":""),fileHandle:T.handle,filePath:T.path})}return P.sort((S,T)=>S.timestamp-T.timestamp)}function ap(d){const h={};if(d.length===0)return h;let u=1,P=d[0].timestamp;const y=360*60*1e3;return h[u]=[],d.forEach(S=>{S.timestamp-P>y&&(u+=1,h[u]=[]),h[u].push(S.id),P=S.timestamp}),h}function _c(d){const h=d.photos.map(u=>({filePath:u.filePath,day:u.day,bucket:u.bucket,sequence:u.sequence,favorite:u.favorite,rating:u.rating,archived:u.archived,currentName:u.currentName}));return{projectName:d.projectName,rootPath:d.rootPath,settings:d.settings,dayLabels:d.dayLabels||{},dayContainers:d.dayContainers||[],lastModified:d.lastModified??Date.now(),edits:h}}function up(d,h){const u=d.toLowerCase(),P=u.replace(/[^a-z0-9]+/g," ").trim(),y=h.toLowerCase();return!!(y&&u===y||u==="archive"||u==="archives"||u.endsWith("_archive")||u.endsWith("-archive")||u.includes("archive")||P.includes("archive"))}function Rc(d,h){return h?d.map(u=>u.filePath&&u.filePath.split(/[\\/]/).filter(Boolean).some(y=>up(y,h))?{...u,archived:!0,bucket:"X"}:u):d}async function cp(d){const{dirHandle:h,projectName:u,rootLabel:P,onProgress:y}=d;let S;try{S=await h.requestPermission({mode:"read"})}catch{throw new Error("File System Access API is not available or supported in this environment.")}if(S!=="granted")throw new Error("Folder access was not granted.");y?.(5,"Scanning folder structure...");const T=Cc();y?.(10,"Collecting image files...");const D=Rc(await Pc(h,(M,O)=>{const $=10+M*.6;y?.($,O)}),Vo.folderStructure.archiveFolder);y?.(75,"Analyzing photo timestamps...");const A=ap(D);y?.(85,"Saving project data...");const V={projectName:u?.trim()||h.name,rootPath:P||h.name,photos:D,settings:Vo,lastModified:Date.now()};return await rp(T,h),Ne.set(`${Wo}${T}`,JSON.stringify(_c(V))),y?.(95,"Project initialized successfully"),{projectId:T,photos:D,suggestedDays:A}}async function wc(d){const h=await lp(d);if(!h)throw new Error("Project folder access not available. Please reselect the folder.");let u;try{u=await h.requestPermission({mode:"read"})}catch{throw new Error("File System Access API is not available or supported in this environment.")}if(u!=="granted")throw new Error("Folder access was not granted.");const P=Ne.get(`${Wo}${d}`),y=P?JSON.parse(P):{},S=await Pc(h);if(S.length===0)throw new Error("Project folder access is no longer available. Please reselect the folder.");let T=S;if(y.edits){const V=new Map;y.edits.forEach(M=>{M?.filePath&&V.set(M.filePath,M)}),T=S.map(M=>{const O=M.filePath?V.get(M.filePath):null;return O?{...M,day:O.day,bucket:O.bucket,sequence:O.sequence,favorite:O.favorite,rating:O.rating,archived:O.archived,currentName:O.currentName}:M})}const D=y.settings||Vo,A=Rc(T,D.folderStructure?.archiveFolder||Vo.folderStructure.archiveFolder);return{projectName:y.projectName||h.name,rootPath:y.rootPath||h.name,photos:A,settings:D,dayLabels:y.dayLabels||{},dayContainers:y.dayContainers||[],lastModified:y.lastModified}}async function Nc(d,h){Ne.set(`${Wo}${d}`,JSON.stringify(_c(h)))}async function dp(d){try{Ne.remove(`${Wo}${d}`)}catch{}try{const h=await Mi();await new Promise((u,P)=>{const y=h.transaction(Hn,"readwrite");y.objectStore(Hn).delete(d),y.oncomplete=()=>u(),y.onerror=()=>P(y.error)})}catch{}}const Ll=[{key:"A",label:"Establishing",color:"bg-blue-500",description:"Wide shots, landscapes"},{key:"B",label:"People",color:"bg-purple-500",description:"Portraits, groups"},{key:"C",label:"Culture/Detail",color:"bg-green-500",description:"Local life, close-ups"},{key:"D",label:"Action/Moment",color:"bg-orange-500",description:"Events, activities"},{key:"E",label:"Transition",color:"bg-yellow-500",description:"Travel, movement"},{key:"F",label:"Mood/Night",color:"bg-indigo-500",description:"Atmosphere, evening"},{key:"X",label:"Archive",color:"bg-gray-500",description:"Unwanted shots"}],ct="narrative:recentProjects",$n="narrative:activeProject",Ao={autoDay:!0,folderStructure:{daysFolder:"01_DAYS",archiveFolder:"98_ARCHIVE",favoritesFolder:"FAV",metaFolder:"_meta"}};function fp(){const[d,h]=L.useState([]),[u,P]=L.useState("folders"),[y,S]=L.useState(new Set),[T,D]=L.useState(null),[A,V]=L.useState(null),M=L.useRef(null),[O,$]=L.useState(null),[X,oe]=L.useState(null),[ne,ie]=L.useState([]),[je,Me]=L.useState(-1),De=L.useRef([]),[re,Ee]=L.useState(!1),[Le,b]=L.useState(!1),[J,fe]=L.useState(()=>!Ne.get($n)),[nt,Pe]=L.useState(!1),[rt,Ke]=L.useState(""),[$e,lt]=L.useState("No Project"),[ue,_e]=L.useState(null),[U,Z]=L.useState(null),[H,g]=L.useState(Bo.getDisplayVersion()),_=!1,[q,ae]=L.useState({}),[me,ce]=L.useState(null),[ve,he]=L.useState(""),[xe,dt]=L.useState([]),[qe,Dt]=L.useState(null),[Ct,dr]=L.useState(Ao),[Wn,ft]=L.useState([]),[fr,Qn]=L.useState(!1),[Kn,ot]=L.useState(null),[Lt,Zt]=L.useState(null),[Xn,en]=L.useState(!1),[zl,be]=L.useState(0),[Vr,We]=L.useState("Loading project..."),[Yn,yn]=L.useState(!1),[gn,Qo]=L.useState(""),[Hr,pr]=L.useState("idle"),[Wr,mr]=L.useState(null),[Ut,tn]=L.useState(!1),[nn,vn]=L.useState(()=>Ne.get("narrative:viewMode")||"gallery"),At=L.useRef(null),Kt=L.useRef({selectedRootFolder:null,selectedDay:null}),Qr=L.useCallback(a=>{const m=a.split(/[/\\]/).filter(Boolean);return m[m.length-1]||"Untitled Project"},[]);L.useCallback(async(a,m=800,v=600,w=.65)=>{try{const N=await global.createImageBitmap?.(a);if(N){let{width:C,height:E}=N;const G=C/E;C>m&&(C=m,E=Math.round(C/G)),E>v&&(E=v,C=Math.round(E*G));const le=document.createElement("canvas");le.width=C,le.height=E;const de=le.getContext("2d");if(!de)throw new Error("Canvas is not supported");return de.drawImage(N,0,0,C,E),le.toDataURL("image/jpeg",w)}}catch{}return await new Promise((N,C)=>{const E=new FileReader;E.onload=()=>{typeof E.result=="string"?N(E.result):C(new Error("Failed to read image"))},E.onerror=()=>C(E.error||new Error("Failed to read image")),E.readAsDataURL(a)})},[]);const Kr=L.useCallback((a,m)=>{if(!m)return a;const v=new Map;return Object.entries(m).forEach(([w,N])=>{const C=Number.parseInt(w,10);Number.isNaN(C)||N.forEach(E=>v.set(E,C))}),a.map(w=>({...w,day:v.get(w.id)??w.day}))},[]),Xr=L.useCallback(a=>{try{const m=(a.photos||[]).map(v=>v.thumbnail).filter(Boolean);De.current.forEach(v=>{if(v&&!m.includes(v)&&v.startsWith("blob:"))try{URL.revokeObjectURL(v)}catch{}}),De.current=m}catch{}h(a.photos||[]),lt(a.projectName||"No Project"),Z(a.rootPath||null),dr(a.settings||Ao),ae(a.dayLabels||{}),dt(a.dayContainers||[])},[]),qn=L.useCallback(a=>{try{const m=Ne.get(ct),w=(m?JSON.parse(m):[]).map(de=>({...de,projectId:de.projectId||de.rootPath}));let N=w.findIndex(de=>de.projectId===a.projectId);N===-1&&(N=w.findIndex(de=>de.rootPath===a.rootPath));const E={...N!==-1?w[N]:{},...a},G=w.filter((de,Be)=>Be!==N),le=[E,...G].slice(0,20);Ne.set(ct,JSON.stringify(le)),ft(le)}catch(m){if(m instanceof Error&&m.name==="QuotaExceededError")try{const v=[merged,...filtered].map((w,N)=>{if(N>=3&&w.coverUrl){const{coverUrl:C,...E}=w;return E}return w}).slice(0,20);Ne.set(ct,JSON.stringify(v)),ft(v),Se("Storage limit reached. Kept covers for 3 most recent projects.","info")}catch{try{const w=[merged,...filtered.slice(0,9)].map((N,C)=>{if(C>0&&N.coverUrl){const{coverUrl:E,...G}=N;return G}return N});Ne.set(ct,JSON.stringify(w)),ft(w),Se("Storage critically low. Removed older project covers.","error")}catch{try{const N=[{...merged,coverUrl:void 0}];Ne.set(ct,JSON.stringify(N)),ft(N),Se("Storage full. Reset to current project only.","error")}catch{Ne.remove(ct),ft([]),Se("Storage exhausted. Unable to save projects.","error")}}}else Se("Failed to persist recent project updates. Changes may not be saved.","error")}},[]);L.useCallback((a,m)=>{try{const v=Ne.get(ct),N=(v?JSON.parse(v):[]).map(E=>({...E,projectId:E.projectId||E.rootPath}));let C=N.findIndex(E=>E.projectId===a);if(C===-1&&(C=N.findIndex(E=>E.rootPath===a)),C!==-1){const E=[...N];E[C]={...E[C],...m},Ne.set(ct,JSON.stringify(E)),ft(E)}else console.warn("Project not found for update:",a)}catch(v){if(v instanceof Error&&v.name==="QuotaExceededError")try{const w=normalized.map((N,C)=>{if(C>2&&N.coverUrl){const{coverUrl:E,...G}=N;return G}return N});projectIndex!==-1&&(w[projectIndex]={...w[projectIndex],...m}),Ne.set(ct,JSON.stringify(w)),ft(w),Se("Storage limit reached. Removed older covers.","info")}catch(w){throw Se("Storage full. Cover photo could not be saved.","error"),w}else Se("Failed to persist recent project updates. Changes may not be saved.","error")}},[]);const Tl=L.useCallback(()=>{const a=[];return d.filter(m=>m.bucket&&!m.archived).forEach(m=>{const v=m.day,w=v!==null?q[v]||`Day ${String(v).padStart(2,"0")}`:"(root)";a.push(`${w}: ${m.currentName}`)}),a.join(`
`)},[d,q]),Se=L.useCallback((a,m="info")=>{mr({message:a,tone:m}),At.current&&window.clearTimeout(At.current),At.current=window.setTimeout(()=>{mr(null),At.current=null},2500)},[]),bl=L.useCallback(async()=>{if(!ue)return;if(y.size===0){Se("Select a photo to set as cover.");return}if(y.size>1){Se("Select a single photo to set as cover.");return}const a=Array.from(y)[0];await rn(a)},[d,ue,y,Se]),rn=L.useCallback(async a=>{if(!ue)return;const m=d.find(v=>v.id===a);if(!m){Se("Selected photo is no longer available.","error");return}try{let v;if(m.fileHandle)v=await m.fileHandle.getFile();else if(m.thumbnail)v=await(await fetch(m.thumbnail)).blob();else{Se("Cannot create cover from this photo.","error");return}const w=v,N=`original (${(w.size/1024).toFixed(1)}KB)`;await Rf(10);const C=await kf(ue,w,0,0),E=Ne.get(ct),le=(E?JSON.parse(E):[]).map(we=>({...we,projectId:we.projectId||we.rootPath}));let de=le.findIndex(we=>we.projectId===ue);de===-1&&(de=le.findIndex(we=>we.rootPath===ue));const Be=le.map((we,Ve)=>Ve===de?{...we,coverKey:C,lastOpened:Date.now()}:we);de===-1&&Be.unshift({projectName:$e||"Untitled Project",projectId:ue,rootPath:U||ue,lastOpened:Date.now(),totalPhotos:d.length,coverKey:C}),Ne.set(ct,JSON.stringify(Be.slice(0,20))),ft(Be.slice(0,20)),console.log(`Cover saved to IndexedDB (${N}):`,ue),Se("Cover photo updated.")}catch(v){console.error("Failed to set cover photo:",v),Se("Failed to set cover photo.","error")}},[d,ue,$e,U,Se]),hr=L.useCallback((a,m)=>{const v=new Map;return m.forEach(w=>v.set(w.folder,w)),a.map(w=>{if(!w.filePath)return w;const N=w.filePath.split("/");if(N.length>1){const le=N[1].match(/^D(\d{1,2})/i);if(le){const de=parseInt(le[1],10);if(!Number.isNaN(de))return{...w,day:de}}}const C=N[0],E=v.get(C);return E&&E.detectedDay!=null&&!E.skip?{...w,day:E.detectedDay}:{...w,day:null}})},[]),xn=L.useCallback((a,m)=>{const v=new Map;return m.forEach((w,N)=>{const C=Hf(w);C!=null&&v.set(w,C)}),a.map(w=>{if(!w.filePath)return w;const N=w.filePath.split("/"),C=N[0],E=v.get(C);if(E!=null)return{...w,day:E};if(N.length>1){const le=N[1].match(/^D(\d{1,2})/i);if(le){const de=parseInt(le[1],10);if(!Number.isNaN(de))return{...w,day:de}}}return w})},[]),ln=L.useCallback(async(a,m)=>{en(!0),be(0),We("Loading project..."),ot(null);try{be(25),We("Reading project data...");const v=await wc(a);be(50),We("Processing photos...");const w=xn(v.photos,v.dayContainers||[]),N={...v,photos:w};if(be(75),We("Initializing view..."),Xr(N),_e(a),b(!1),fe(!1),Ne.set($n,a),be(90),m?.addRecent!==!1){const C=Ne.get(ct),G=(C?JSON.parse(C):[]).map(Be=>({...Be,projectId:Be.projectId||Be.rootPath}));let le=G.find(Be=>Be.projectId===a);le||(le=G.find(Be=>Be.rootPath===a));const de=le?.coverUrl;qn({projectName:v.projectName||"Untitled Project",projectId:a,rootPath:v.rootPath||"Unknown location",lastOpened:Date.now(),totalPhotos:v.photos?.length||0,...de&&{coverUrl:de}})}be(100),Zt(null)}catch(v){const w=v instanceof Error?v.message:"Failed to load project";console.error("Failed to load project:",v),ot(w),(w.includes("access")&&!w.includes("no longer available")||w.includes("permission")||w.includes("granted"))&&Zt(a),Se(w,"error"),Ne.remove($n),fe(!0)}finally{en(!1),be(0)}},[wc,xn,Xr,Se,qn]),Jn=L.useCallback(async()=>{if(Lt){en(!0),be(0),We("Requesting folder access..."),ot(null);try{const a=await getHandle(Lt);if(a){if(be(25),We("Re-requesting permissions..."),await a.requestPermission({mode:"read"})==="granted"){be(50),We("Loading project..."),await ln(Lt,{addRecent:!1}),Zt(null);return}}else throw new Error("Project folder access is no longer available. Please reselect the folder from the start screen.");throw new Error("Folder access was not granted.")}catch(a){const m=a instanceof Error?a.message:"Failed to retry permission";console.error("Failed to retry permission:",a),ot(m),Se(m,"error"),fe(!0),Zt(null)}finally{en(!1),be(0)}}},[Lt,ln,Se]);L.useEffect(()=>{(async()=>{try{const m=await Bo.getCurrentVersion();g(`v${m}`)}catch{}})()},[_]),L.useEffect(()=>{try{const m=Ne.get(ct);if(m)try{const v=JSON.parse(m),w=Array.isArray(v)?v.map(E=>({...E,projectId:E.projectId||E.rootPath})):[],N=new Map;w.forEach(E=>{E.projectId&&!N.has(E.projectId)&&N.set(E.projectId,E)});const C=Array.from(N.values());JSON.stringify(C)!==JSON.stringify(v)&&Ne.set(ct,JSON.stringify(C)),console.log("Loaded recent projects:",C.map(E=>({id:E.projectId,cover:E.coverUrl?"has cover":"no cover"}))),ft(C)}catch(v){console.warn("Failed to parse recent projects from storage",v),ft([])}}catch{ft([])}const a=Ne.get($n);a?(ln(a,{addRecent:!1}),fe(!1)):fe(!0)},[ln]),L.useEffect(()=>{Ne.set("narrative:viewMode",nn)},[nn]);const ht=hn.useMemo(()=>{const a=new Map;return d.forEach(m=>{m.day&&(a.has(m.day)||a.set(m.day,[]),a.get(m.day).push(m))}),Array.from(a.entries()).sort((m,v)=>m[0]-v[0])},[d]),Gn=hn.useMemo(()=>ht.filter(([a])=>q[a]!=null),[ht,q]),yr=/^(?:day|d)[\s_-]?(\d{1,2})/i,wn=L.useCallback((a,m)=>{const v=(xe||[]).includes(a),w=m.some(we=>we.day!==null),N=m.some(we=>{const Ve=(we.filePath||we.originalName||"").split("/");return Ve.length>1&&/^D\d{1,2}/i.test(Ve[1])}),C=ht.some(([we])=>(q[we]||`Day ${String(we).padStart(2,"0")}`)===a),E=a===Ct?.folderStructure?.daysFolder,G=yr.test(a)||a.toLowerCase().startsWith("day"),le=w||N||C||E||G;let de=null;if(w){const we={};m.forEach(Ve=>{Ve.day!=null&&(we[Ve.day]=(we[Ve.day]||0)+1)}),Object.keys(we).length&&(de=Number(Object.entries(we).sort((Ve,xr)=>xr[1]-Ve[1])[0][0]))}if(de==null){const we=a.match(yr);if(we){const Ve=parseInt(we[1],10);Number.isNaN(Ve)||(de=Ve)}}const Be=de!=null?q[de]||`Day ${String(de).padStart(2,"0")}`:a;return{isSelected:v,isDayLike:le,dayNumber:de,displayName:Be}},[xe,q,ht,Ct]),Ko=L.useCallback(a=>{const m=a.map(([C,E])=>{const G=wn(C,E);return{folder:C,items:E,...G}}),v=m.filter(C=>C.isSelected),w=m.filter(C=>!C.isSelected&&!C.isDayLike),N=m.filter(C=>!C.isSelected&&C.isDayLike);return v.sort((C,E)=>(C.dayNumber??999)-(E.dayNumber??999)),w.sort((C,E)=>C.folder.localeCompare(E.folder)),N.sort((C,E)=>C.folder.localeCompare(E.folder)),{selected:v,nonDay:w,dayLike:N}},[wn]),zt=hn.useMemo(()=>{const a=new Map;for(const m of d){if(m.archived)continue;const v=(m.filePath||m.originalName||"").split("/"),w=v.length>1?v[0]:"(root)";a.has(w)||a.set(w,[]),a.get(w).push(m)}return Array.from(a.entries()).sort((m,v)=>m[0].localeCompare(v[0]))},[d]),on=hn.useMemo(()=>{new Set(ht.map(([v])=>q[v]||`Day ${String(v).padStart(2,"0")}`)),Ct?.folderStructure?.daysFolder;const a=new Set;for(const v of d){const w=(v.filePath||v.originalName||"").split("/");w.length>1&&/^D\d{2}/i.test(w[1])&&a.add(w[0])}const m=new Map(zt);return(xe||[]).forEach(v=>{m.has(v)||m.set(v,[])}),Array.from(m.entries())},[zt,ht,q,Ct]);hn.useEffect(()=>{},[_,ht,zt,xe,Ct,q,d,wn]);const Ue=hn.useMemo(()=>{switch(u){case"days":return X!==null?d.filter(a=>!a.archived&&a.day===X):d.filter(a=>a.day!==null&&!a.archived);case"folders":return qe!==null?d.filter(a=>!a.archived&&((a.filePath||a.originalName).split("/")[0]||"(root)")===qe):X!==null?d.filter(a=>!a.archived&&a.day===X):[];case"root":return qe!==null?d.filter(a=>!a.archived&&((a.filePath||a.originalName).split("/")[0]||"(root)")===qe):[];case"favorites":return d.filter(a=>a.favorite&&!a.archived);case"archive":return d.filter(a=>a.archived);case"review":return d.filter(a=>a.bucket&&!a.archived);default:return d}},[d,u,X,qe,xe,Ct]);L.useEffect(()=>{if(ue&&d.length>0&&qe===null&&X===null&&u==="folders"){const a=zt[0]?.[0];a&&Dt(a)}},[ue,d.length,qe,X,u,zt]);const yt=L.useCallback(a=>{if(!ue)return;Nc(ue,{projectName:$e,rootPath:U||ue,photos:a??d,settings:Ct,dayLabels:q}).catch(()=>{})},[ue,$e,U,d,Ct,q]),Xt=L.useCallback(a=>{const m=d.map(N=>({id:N.id,filePath:N.filePath,day:N.day,bucket:N.bucket,sequence:N.sequence,favorite:N.favorite,rating:N.rating,archived:N.archived,currentName:N.currentName,originalName:N.originalName,timestamp:N.timestamp})),v=ne.slice(0,je+1);v.push(m);const w=v.slice(-30);ie(w),Me(w.length-1);try{const N=a.map(C=>C.thumbnail).filter(Boolean);De.current.forEach(C=>{if(C&&!N.includes(C)&&C.startsWith("blob:"))try{URL.revokeObjectURL(C)}catch{}}),De.current=N}catch{}h(a),yt(a)},[ne,je,d,yt]),Nn=L.useCallback((a,m,v=null)=>{const w=Array.isArray(a)?a:[a],N={},C=d.map(E=>{if(w.includes(E.id)){const G=v||E.day||X||Math.ceil(new Date(E.timestamp).getDate()/1),le=`${G}_${m}`,de=d.filter(Ve=>Ve.day===G&&Ve.bucket===m).length,Be=(N[le]||de)+1;N[le]=Be;const we=m==="X"?E.originalName:`D${String(G).padStart(2,"0")}_${m}_${String(Be).padStart(3,"0")}__${E.originalName}`;return{...E,bucket:m,day:G,sequence:Be,currentName:we,archived:m==="X"}}return E});Xt(C)},[d,Xt,X]),Yr=L.useCallback(a=>{const m=Array.isArray(a)?a:[a],v=d.map(w=>m.includes(w.id)?{...w,day:null}:w);Xt(v)},[d,Xt]),gr=L.useCallback(a=>{const m=Array.isArray(a)?a:[a],v=d.map(w=>m.includes(w.id)?{...w,favorite:!w.favorite}:w);Xt(v)},[d,Xt]),vr=L.useCallback(()=>{if(je>0){const a=ne[je-1],m=d.map(v=>{const w=a.find(N=>N.id===v.id);return w?{...v,...w}:v});Me(je-1),h(m),yt(m)}},[ne,je,yt]),qr=L.useCallback(()=>{if(je<ne.length-1){const a=ne[je+1],m=d.map(v=>{const w=a.find(N=>N.id===v.id);return w?{...v,...w}:v});Me(je+1),h(m),yt(m)}},[ne,je,yt]),Fl=L.useCallback(async a=>{en(!0),be(0),We("Initializing project..."),ot(null);try{be(5),We("Requesting folder access...");const m=await cp({dirHandle:a.dirHandle,projectName:a.projectName,rootLabel:a.rootPath,onProgress:(G,le)=>{const de=5+G*.789;be(de),We(le)}});be(80),We("Processing photo organization...");const v=a.mappings?.length?hr(m.photos,a.mappings):Kr(m.photos,m.suggestedDays);be(85),We("Setting up day containers...");const w=(a.mappings||[]).filter(G=>!G.skip).map(G=>G.folder),N=a.projectName?.trim()||Qr(a.rootPath),C=m.projectId,E={projectName:N,rootPath:a.rootPath||a.dirHandle.name,photos:v,settings:Ao,dayContainers:w};be(90),We("Saving project state..."),h(v),lt(N),_e(C),Z(a.rootPath||a.dirHandle.name),dr(Ao),ie([]),Me(-1),S(new Set),D(null),V(null),M.current=null,oe(null),Dt(null),P("folders"),b(!1),fe(!1),Ne.set($n,C),be(95),We("Updating recent projects..."),qn({projectName:N,projectId:C,rootPath:a.rootPath||a.dirHandle.name,lastOpened:Date.now(),totalPhotos:v.length}),be(98),We("Finalizing project..."),await Nc(C,E),fe(!1),be(100),Zt(null)}catch(m){ot(m instanceof Error?m.message:"Failed to initialize project"),b(!0),fe(!0)}finally{en(!1),be(0)}},[hr,Kr,Qr,qn,_]);L.useEffect(()=>{const a=m=>{const v=m.target;if(J||Le||Yn||v&&(v.tagName==="INPUT"||v.tagName==="TEXTAREA"||v.tagName==="SELECT"||v.isContentEditable))return;if(re){(m.key==="Escape"||m.key==="?")&&Ee(!1);return}if(Ut&&m.key==="Escape"){tn(!1),Se("Cover selection cancelled.");return}if(m.key==="?"){Ee(!0);return}const w=T||(y.size===1?Array.from(y)[0]:null);if(!w)return;if(m.key.toLowerCase()==="f"&&!m.shiftKey&&!m.metaKey&&!m.ctrlKey&&!m.altKey){const E=y.size>0?Array.from(y):[w];gr(E);return}let N=m.key.toUpperCase();N==="M"&&(N="F");const C=Ll.find(E=>E.key===N);if(C&&C.key!=="F"){const E=y.size>0?Array.from(y):[w];Nn(E,C.key);const G=Ue.findIndex(le=>le.id===w);if(G<Ue.length-1){const le=Ue[G+1].id;D(le),S(new Set([le])),V(G+1),M.current=G+1}return}if(C?.key==="F"&&m.key.toLowerCase()==="m"){const E=y.size>0?Array.from(y):[w];Nn(E,C.key);return}if(m.key==="ArrowRight"){const E=Ue.findIndex(G=>G.id===w);if(E<Ue.length-1){const G=Ue[E+1].id;D(G),S(new Set([G])),V(E+1)}}else if(m.key==="ArrowLeft"){const E=Ue.findIndex(G=>G.id===w);if(E>0){const G=Ue[E-1].id;D(G),S(new Set([G])),V(E-1),M.current=E-1}}else m.key==="Enter"||m.key===" "?(m.preventDefault(),$(w)):m.key==="Escape"?O?$(null):(S(new Set),D(null),V(null),M.current=null):m.key==="z"&&(m.metaKey||m.ctrlKey)&&(m.preventDefault(),m.shiftKey?qr():vr())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[y,T,Ue,Nn,Yr,gr,vr,qr,re,O,J,Le,Yn,Ut]);const ke=hn.useMemo(()=>({total:d.length,sorted:d.filter(a=>a.bucket&&!a.archived).length,unsorted:d.filter(a=>!a.bucket&&!a.archived).length,archived:d.filter(a=>a.archived).length,favorites:d.filter(a=>a.favorite).length,root:d.filter(a=>a.day===null&&!a.archived).length}),[d]),Xo=L.useCallback(async(a,m,v)=>{if(a.shiftKey&&M.current!==null&&M.current!==void 0){const w=Math.min(M.current,v),N=Math.max(M.current,v),C=Ue.slice(w,N+1).map(E=>E.id);S(new Set(C)),D(m),V(v),M.current=v;return}if(a.metaKey||a.ctrlKey){const w=new Set(y);w.has(m)?w.delete(m):w.add(m),S(w),D(m),V(v),M.current=v;return}S(new Set([m])),D(m),V(v),M.current=v,Ut&&(await rn(m),tn(!1))},[y,A,Ue,Ut,rn]);return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-950 text-gray-100",children:[!J&&s.jsxs("header",{className:"border-b border-gray-800 bg-gray-900",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:"/Narrative/assets/Narrative_icon.png",alt:"Narrative",className:"w-8 h-8 rounded"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-100",children:$e}),s.jsxs("p",{className:"text-xs text-gray-400",children:[ke.sorted," sorted  ",ke.root," root  ",ke.favorites," favorites"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:H}),s.jsx("button",{onClick:()=>{Qn(!1),b(!1),ot(null),fe(!0),Ne.remove($n)},className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm font-medium",title:"Back to the main menu",children:"Main Menu"}),ue&&s.jsx("button",{onClick:()=>{tn(!0),Se("Select a photo to set as cover. Click a photo to set, or press Esc to cancel.","info")},className:`px-3 py-1 rounded text-sm font-medium ${Ut?"bg-yellow-200 text-yellow-900":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,title:"Set cover from selected photo",children:Ut?"Selecting":"Set Cover"}),Ut&&s.jsxs("div",{className:"px-3 py-1 bg-yellow-50 text-yellow-900 rounded text-sm flex items-center gap-3",children:[s.jsx("span",{children:"Select a photo to set as cover"}),y.size===1&&s.jsx("button",{onClick:async()=>{await bl(),tn(!1)},className:"underline",children:"Use selection"}),s.jsx("button",{onClick:()=>{tn(!1),Se("Cover selection cancelled.")},className:"underline",children:"Cancel"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>Qn(a=>!a),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm font-medium flex items-center gap-1",title:"Open recent projects","aria-expanded":fr,children:["Projects",s.jsx(Tf,{className:"w-4 h-4"})]}),fr&&s.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-lg border border-gray-800 bg-gray-900 shadow-xl z-20",children:[s.jsx("div",{className:"px-3 py-2 text-xs uppercase tracking-wide text-gray-400 border-b border-gray-800",children:"Recent Projects"}),Wn.length===0?s.jsx("div",{className:"px-3 py-3 text-sm text-gray-400",children:"No recent projects yet."}):s.jsx("div",{className:"max-h-64 overflow-y-auto",children:Wn.map(a=>s.jsxs("button",{onClick:()=>{Qn(!1),ln(a.projectId)},className:"w-full text-left px-3 py-2 hover:bg-gray-800",children:[s.jsx("div",{className:"text-sm text-gray-100",children:a.projectName}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.rootPath})]},a.projectId))}),s.jsx("div",{className:"border-t border-gray-800",children:s.jsx("button",{onClick:()=>{Qn(!1),b(!0)},className:"w-full text-left px-3 py-2 text-sm text-blue-300 hover:bg-gray-800",children:"Open Project"})})]})]}),ue&&s.jsx("button",{onClick:async()=>{if(!(!ue||!window.confirm(`Delete project '${$e}'? This will remove local state and stored folder access. This cannot be undone.`))){try{await dp(ue)}catch{Se("Failed to delete project.","error");return}try{const m=Ne.get(ct),w=(m?JSON.parse(m):[]).filter(N=>N.projectId!==ue);Ne.set(ct,JSON.stringify(w)),ft(w)}catch{}Ne.remove($n),h([]),_e(null),lt("No Project"),fe(!0),Se("Project deleted.")}},className:"px-3 py-1 bg-red-700 hover:bg-red-800 rounded text-sm font-medium",title:"Delete project",children:"Delete"}),s.jsxs("button",{onClick:()=>{ot(null),b(!0)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm font-medium flex items-center gap-1",title:"Import existing trip folder",disabled:Xn,children:[Xn?s.jsx($o,{className:"w-4 h-4 animate-spin"}):s.jsx(If,{className:"w-4 h-4"}),"Import Trip"]}),s.jsx("button",{onClick:()=>{Qo(Tl()),pr("idle"),yn(!0)},className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm font-medium",title:"Export rename script",disabled:d.length===0,children:"Export Script"}),s.jsx("button",{onClick:vr,disabled:je<=0,className:"p-2 hover:bg-gray-800 rounded disabled:opacity-30",title:"Undo (Cmd+Z)",children:s.jsx(Uf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:qr,disabled:je>=ne.length-1,className:"p-2 hover:bg-gray-800 rounded disabled:opacity-30",title:"Redo (Cmd+Shift+Z)",children:s.jsx(Mf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ee(!0),className:"p-2 hover:bg-gray-800 rounded",title:"Show shortcuts (?)",children:"?"})]})]}),s.jsx("div",{className:"flex items-center gap-3 px-6 py-2",children:(()=>{const a=Yn?"export":u==="review"?"review":"organize",m=a==="export"?3:a==="review"?2:1,v=["Import","Organize","Review","Export"];return s.jsx("nav",{"aria-label":"Progress",className:"flex items-center w-full",children:v.map((w,N)=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.jsx("div",{"aria-hidden":"true",className:`w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${N<m?"bg-green-600 text-white":N===m?"bg-blue-700 text-white":"border border-gray-700 text-gray-400 bg-transparent"}`,children:N+1}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:w})]}),N<v.length-1&&s.jsx("div",{"aria-hidden":"true",className:"flex-1 h-px bg-gray-800 mx-3"})]},w))})})()}),s.jsx("div",{className:"flex gap-1 px-6 pb-2",children:[{id:"folders",label:"Folders",count:ke.root},{id:"favorites",label:"Favorites",count:ke.favorites},{id:"archive",label:"Archive",count:ke.archived},{id:"review",label:"Review",count:ke.sorted}].map(a=>s.jsxs("button",{onClick:()=>{u==="folders"&&(Kt.current={selectedRootFolder:qe,selectedDay:X}),P(a.id),a.id==="folders"?(Dt(Kt.current.selectedRootFolder),oe(Kt.current.selectedDay)):oe(null)},className:`px-4 py-2 rounded-t text-sm font-medium transition-colors ${u===a.id?"bg-gray-950 text-blue-400":"text-gray-400 hover:text-gray-200"}`,children:[a.label," ",a.count>0&&s.jsxs("span",{className:"text-xs opacity-60",children:["(",a.count,")"]})]},a.id))}),s.jsxs("div",{className:"flex gap-2 px-6 pb-3",children:[s.jsx("button",{onClick:()=>vn("gallery"),disabled:Ue.length===0,className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${Ue.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50":nn==="gallery"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Gallery"}),s.jsx("button",{onClick:()=>{if(Ue.length>0&&(vn("inspect"),!T||!Ue.find(a=>a.id===T))){const a=Ue[0];a&&(D(a.id),S(new Set([a.id])))}},disabled:Ue.length===0,className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${Ue.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50":nn==="inspect"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Inspect"})]}),Kn&&s.jsx("div",{className:"mx-6 mb-3 rounded-lg border border-red-800 bg-red-950/60 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-red-200",children:Kn}),Lt&&s.jsx("button",{onClick:Jn,className:"ml-3 px-3 py-1 bg-red-700 hover:bg-red-600 text-white text-xs rounded transition-colors",children:"Try Again"})]})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u==="days"&&s.jsx("aside",{className:"w-48 border-r border-gray-800 bg-gray-900 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3",children:"Days"}),s.jsx("div",{className:"space-y-1",children:Gn.map(([a,m],v)=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{Dt(null),oe(a)},onKeyDown:w=>{w.key==="Enter"&&(Dt(null),oe(a))},className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${X===a?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:me===a?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx("input",{value:ve,onChange:w=>he(w.target.value),className:"w-full px-2 py-1 rounded bg-gray-800 text-sm text-gray-100"}),s.jsx("button",{onClick:w=>{w.stopPropagation(),ae(N=>({...N,[a]:ve})),yt(d),ce(null)},className:"p-1 bg-green-600 rounded","aria-label":"Save day name",children:s.jsx(bi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:w=>{w.stopPropagation(),ce(null)},className:"p-1 bg-gray-800 rounded","aria-label":"Cancel",children:s.jsx(Bn,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:q[a]||`Day ${String(a).padStart(2,"0")}`}),s.jsx("button",{onClick:w=>{w.stopPropagation(),ce(a),he(q[a]||`Day ${String(a).padStart(2,"0")}`)},className:"p-1 ml-2","aria-label":`Edit day ${a}`,children:s.jsx(Ti,{className:"w-4 h-4 text-gray-400"})})]})}),s.jsxs("div",{className:"text-xs opacity-70",children:[m.length," photos"]})]},a))})]})}),u==="folders"&&s.jsx("aside",{className:"w-48 border-r border-gray-800 bg-gray-900 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3",children:"Days"}),s.jsx("div",{className:"space-y-1 mb-4",children:(()=>{const a=new Map;Gn.forEach(([N,C])=>{a.set(N,{dayNumber:N,photos:C,folderName:null})});const m=xe||[];m.forEach(N=>{const C=zt.find(([G])=>G===N)?.[1]||[],E=wn(N,C);E.dayNumber!==null&&!a.has(E.dayNumber)&&a.set(E.dayNumber,{dayNumber:E.dayNumber,photos:C,folderName:N})}),zt.forEach(([N,C])=>{const E=wn(N,C);if(E.isDayLike&&E.dayNumber!==null&&!a.has(E.dayNumber)){const G=C.filter(le=>le.day===E.dayNumber||le.day===null);a.set(E.dayNumber,{dayNumber:E.dayNumber,photos:G,folderName:N})}});const v=Array.from(a.values()).sort((N,C)=>N.dayNumber-C.dayNumber),w=m.filter(N=>{const C=zt.find(([G])=>G===N)?.[1]||[];return wn(N,C).dayNumber===null});return s.jsxs(s.Fragment,{children:[v.map(N=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{Dt(null),oe(N.dayNumber)},onKeyDown:C=>{C.key==="Enter"&&(Dt(null),oe(N.dayNumber))},className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${X===N.dayNumber?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:me===N.dayNumber?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx("input",{value:ve,onChange:C=>he(C.target.value),className:"w-full px-2 py-1 rounded bg-gray-800 text-sm text-gray-100"}),s.jsx("button",{onClick:C=>{C.stopPropagation(),ae(E=>({...E,[N.dayNumber]:ve})),yt(d),ce(null)},className:"p-1 bg-green-600 rounded","aria-label":"Save day name",children:s.jsx(bi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:C=>{C.stopPropagation(),ce(null)},className:"p-1 bg-gray-800 rounded","aria-label":"Cancel",children:s.jsx(Bn,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:q[N.dayNumber]||`Day ${String(N.dayNumber).padStart(2,"0")}`}),s.jsx("button",{onClick:C=>{C.stopPropagation(),ce(N.dayNumber),he(q[N.dayNumber]||`Day ${String(N.dayNumber).padStart(2,"0")}`)},className:"p-1 ml-2","aria-label":`Edit day ${N.dayNumber}`,children:s.jsx(Ti,{className:"w-4 h-4 text-gray-400"})})]})}),s.jsxs("div",{className:"text-xs opacity-70",children:[N.photos.length," photos"]})]},`day-${N.dayNumber}`)),w.map(N=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{Dt(N),oe(null)},className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${qe===N?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:N}),s.jsx("div",{className:"text-xs px-2 py-0.5 rounded bg-gray-700 text-gray-300",children:"Container"})]}),s.jsxs("div",{className:"text-xs opacity-70",children:[zt.find(([C])=>C===N)?.[1].length||0," ","photos"]})]},`container-${N}`))]})})()}),s.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3",children:"Other"}),s.jsx("div",{className:"space-y-1",children:(()=>{const{selected:a,nonDay:m,dayLike:v}=Ko(on),w=m;return s.jsxs(s.Fragment,{children:[w.map(N=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{Dt(N.folder),oe(null)},className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${qe===N.folder?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:N.folder}),s.jsx("div",{className:"flex gap-2"})]}),s.jsxs("div",{className:"text-xs opacity-70",children:[N.items.length," photos (",N.items.filter(C=>C.day===null).length," ","unsorted)"]})]},N.folder)),w.length===0&&s.jsx("div",{className:"text-xs text-gray-400",children:"No other folders"})]})})()})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"p-6",children:Xn?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx($o,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-400"}),s.jsx("p",{className:"text-gray-400",children:"Loading project..."})]})}):u==="days"&&X===null?s.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(zf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a day to view photos"})]})}):u==="folders"&&qe===null&&X===null?s.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Fi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a folder to view photos"})]})}):(()=>{const a=u==="folders"&&qe?(zt.find(v=>v[0]===qe)?.[1]||[]).filter(v=>!v.archived):null,m=a!==null?a:Ue;if(m.length===0)return s.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Fi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No photos in this view"})]})});if(nn==="inspect"&&T){const v=m.find(w=>w.id===T);if(v)return s.jsx(Jf,{photo:v,filteredPhotos:m,onClose:()=>{vn("gallery"),T&&!m.find(w=>w.id===T)&&(D(null),S(new Set))},onNavigate:w=>{D(w),S(new Set([w]))},onToggleFavorite:w=>{h(N=>N.map(C=>C.id===w?{...C,favorite:!C.favorite}:C)),yt(d.map(N=>N.id===w?{...N,favorite:!N.favorite}:N))},onAssignBucket:(w,N)=>{let C=null;if(N==="X"&&T===w){const E=m.findIndex(G=>G.id===w);if(E!==-1)if(E<m.length-1)C=m[E+1].id;else if(E>0)C=m[E-1].id;else{vn("gallery"),D(null);return}}Nn(w,N),C&&(D(C),S(new Set([C])))},onAssignDay:(w,N)=>{h(C=>C.map(E=>E.id===w?{...E,day:N}:E)),yt(d.map(C=>C.id===w?{...C,day:N}:C))},selectedBucket:v.bucket,selectedDay:v.day,buckets:Ll,dayLabels:q})}return s.jsx("div",{className:"grid grid-cols-4 gap-4",children:m.map((v,w)=>s.jsxs("div",{onClick:N=>Xo(N,v.id,w),"data-testid":`photo-${v.id}`,className:`relative group cursor-pointer rounded-lg overflow-hidden transition-all ${y.has(v.id)?"ring-4 ring-blue-500 scale-105":!v.bucket&&!v.archived?"ring-2 ring-blue-400/40 hover:ring-blue-400/70":"hover:ring-2 hover:ring-gray-600"} ${v.bucket||v.archived?"opacity-60 saturate-50":""}`,children:[v.thumbnail?v.mimeType?.startsWith("video/")?s.jsx("video",{src:v.thumbnail,className:"w-full aspect-[4/3] object-cover",muted:!0,preload:"metadata"}):s.jsx("img",{src:v.thumbnail,alt:v.currentName,className:"w-full aspect-[4/3] object-cover"}):s.jsx("div",{className:"w-full aspect-[4/3] bg-gray-900 flex items-center justify-center text-xs text-gray-400 px-2 text-center",children:v.currentName}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:s.jsx("p",{className:"text-xs font-mono truncate",children:v.currentName})})}),v.bucket&&s.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-bold ${Ll.find(N=>N.key===v.bucket)?.color} text-white shadow-lg`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:v.bucket}),v.favorite&&s.jsx(Ii,{className:"w-3.5 h-3.5 fill-current"})]})})]},v.id))})})()})}),y.size>0&&!O&&s.jsx("aside",{className:"w-80 border-l border-gray-800 bg-gray-900 overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:y.size===1?s.jsxs(s.Fragment,{children:[(()=>{const a=d.find(m=>m.id===Array.from(y)[0]);return a?a.mimeType?.startsWith("video/")?s.jsx("video",{src:a.thumbnail,className:"w-full rounded-lg",controls:!0}):s.jsx("img",{src:a.thumbnail,alt:"Selected",className:"w-full rounded-lg"}):null})(),s.jsx("div",{className:"mt-2 text-xs text-gray-400 font-mono break-all",children:nt?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:rt,onChange:a=>Ke(a.target.value),className:"w-full px-2 py-1 rounded bg-gray-800 text-sm text-gray-100"}),s.jsx("button",{onClick:()=>{const a=Array.from(y)[0],m=d.map(v=>v.id===a?{...v,currentName:rt}:v);Xt(m),Pe(!1)},className:"p-1 bg-green-600 rounded","aria-label":"Save name",children:s.jsx(bi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Pe(!1),className:"p-1 bg-gray-800 rounded","aria-label":"Cancel edit name",children:s.jsx(Bn,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:d.find(a=>a.id===Array.from(y)[0])?.currentName}),s.jsx("button",{onClick:()=>{const a=Array.from(y)[0],m=d.find(v=>v.id===a);Ke(m?.currentName||m?.originalName||""),Pe(!0)},className:"p-1 ml-2","aria-label":"Edit name",children:s.jsx(Ti,{className:"w-4 h-4 text-gray-400"})})]})})]}):s.jsxs("div",{className:"text-sm text-gray-300",children:[y.size," selected"]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Assign Day"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("select",{"aria-label":"Assign to...",onChange:a=>{const m=a.target.value;if(!m)return;const v=m==="new"?Math.max(0,...ht.map(C=>C[0]))+1:Number(m),w=Array.from(y),N=d.map(C=>w.includes(C.id)?{...C,day:v}:C);Xt(N),m==="new"&&(ae(C=>({...C,[v]:`Day ${String(v).padStart(2,"0")}`})),yt(N)),oe(v),P("days"),S(new Set)},className:"px-3 py-2 rounded bg-gray-800",defaultValue:"",children:[s.jsx("option",{value:"",children:"Assign to..."}),ht.map(([a])=>s.jsx("option",{value:a,children:`Day ${String(a).padStart(2,"0")}`},a)),s.jsx("option",{value:"new",children:"Create new day"})]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Assign selected photos to a day folder"})]}),s.jsx("button",{onClick:()=>{Yr(Array.from(y)),S(new Set)},className:"w-full px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium transition-colors",children:"Remove Day Assignment"})]}),s.jsxs("div",{className:"space-y-2 mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Assign Category"}),Ll.map(a=>s.jsxs("button",{onClick:()=>Nn(Array.from(y),a.key),className:`w-full text-left px-4 py-3 rounded-lg transition-all ${a.color} hover:brightness-110 text-white`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-lg",children:a.key}),s.jsx("span",{className:"ml-3 font-medium",children:a.label})]})}),s.jsx("p",{className:"text-xs mt-1 opacity-80",children:a.description})]},a.key))]}),s.jsx("div",{className:"space-y-3 pt-6 border-t border-gray-800",children:s.jsxs("button",{onClick:()=>gr(Array.from(y)),className:`w-full px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${y.size===1&&d.find(a=>a.id===Array.from(y)[0])?.favorite?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-800 hover:bg-gray-700"}`,children:[s.jsx(Ii,{className:`w-4 h-4 ${y.size===1&&d.find(a=>a.id===Array.from(y)[0])?.favorite?"fill-current":""}`}),"Toggle Favorite (F)"]})})]})})]}),O&&s.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[s.jsx("button",{onClick:()=>$(null),className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:s.jsx(Bn,{className:"w-6 h-6"})}),(()=>{const a=d.find(m=>m.id===O);return a?a.mimeType?.startsWith("video/")?s.jsx("video",{src:a.thumbnail,controls:!0,className:"max-w-full max-h-full object-contain",autoPlay:!1}):s.jsx("img",{src:a.thumbnail,alt:"Fullscreen",className:"max-w-full max-h-full object-contain"}):null})(),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-6",children:[s.jsx("p",{className:"text-center text-sm font-mono",children:d.find(a=>a.id===O)?.currentName}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Press ESC to close  Arrow keys to navigate"})]})]}),Yn&&s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full overflow-hidden border border-gray-800",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Export Rename Script"}),s.jsx("button",{onClick:()=>yn(!1),className:"p-2 hover:bg-gray-800 rounded","aria-label":"Close export script dialog",children:s.jsx(Bn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-5 py-4 space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"This script copies your organized photos into day folders using the current bucket naming. Originals are preserved."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(gn),pr("copied")}catch{pr("failed")}},className:"px-3 py-2 rounded-lg bg-gray-800 text-gray-100 hover:bg-gray-700 text-sm",children:"Copy Script"}),Hr==="copied"&&s.jsx("span",{className:"text-xs text-green-400",children:"Copied."}),Hr==="failed"&&s.jsx("span",{className:"text-xs text-red-400",children:"Copy failed. Select and copy below."})]}),s.jsx("textarea",{readOnly:!0,value:gn,className:"w-full h-64 rounded-lg border border-gray-800 bg-gray-950 px-3 py-2 text-xs text-gray-100 font-mono"})]})]})}),re&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Keyboard Shortcuts"}),s.jsx("button",{onClick:()=>Ee(!1),className:"p-2 hover:bg-gray-800 rounded",children:s.jsx(Bn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-400 mb-3",children:"MECE Categories"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ll.map(a=>s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("kbd",{className:`px-2 py-1 rounded ${a.color} text-white font-bold`,children:a.key==="F"?"M":a.key}),s.jsx("span",{children:a.label})]},a.key))}),s.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Keyboard shortcuts: AE, X, M (Mood/Night). F is reserved for Favorite."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-400 mb-3",children:"Navigation"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:""}),s.jsx("span",{children:"Previous / Next photo"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"Enter"}),s.jsx("span",{children:"Fullscreen view"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"Esc"}),s.jsx("span",{children:"Close / Deselect"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-400 mb-3",children:"Actions"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"F"}),s.jsx("span",{children:"Toggle favorite"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"Z"}),s.jsx("span",{children:"Undo"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"Z"}),s.jsx("span",{children:"Redo"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("kbd",{className:"px-2 py-1 bg-gray-800 rounded",children:"?"}),s.jsx("span",{children:"Show this help"})]})]})]})]})]})})}),Wr&&s.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:s.jsx("div",{className:`px-4 py-2 rounded-lg text-sm shadow-lg ${Wr.tone==="error"?"bg-red-600 text-white":"bg-gray-800 text-gray-100"}`,role:"status","aria-live":"polite",children:Wr.message})}),J&&s.jsx(Yf,{isOpen:J,onClose:()=>{ue&&(fe(!1),Ne.set($n,ue))},onCreateComplete:Fl,onOpenProject:a=>{ot(null),ln(a)},recentProjects:Wn,canClose:!!ue,errorMessage:Kn}),s.jsx(kc,{isOpen:Le,onClose:()=>b(!1),onComplete:Fl,recentProjects:Wn,onSelectRecent:a=>{ot(null),ln(a)}}),s.jsx(qf,{isOpen:Xn,title:"Loading Project",message:Vr,progress:zl,showProgressBar:!0})]})}const jc=document.getElementById("root");jc&&Nf.createRoot(jc).render(s.jsx(hn.StrictMode,{children:s.jsx(fp,{})}));export{ff as g};
